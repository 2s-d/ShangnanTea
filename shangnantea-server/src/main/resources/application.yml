server:
  port: 8080
  servlet:
    context-path: /api

spring:
  profiles:
    active: local  # 默认使用 local 配置（本地开发）2
  main:
    allow-bean-definition-overriding: true
  datasource:
    url: jdbc:mysql://localhost:3306/teasystem?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
    username: root
    password: ${DB_PASSWORD:your-db-password}  # 使用环境变量
    driver-class-name: com.mysql.cj.jdbc.Driver
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8
  redis:
    host: localhost
    port: 6379
    timeout: 3000ms
    database: 0
  mail:
    host: smtp.qq.com
    port: 587
    username: ${MAIL_USERNAME:your-email@qq.com}  # 使用环境变量
    password: ${MAIL_PASSWORD:your-mail-auth-code}  # 使用环境变量
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true

# 阿里云短信认证服务配置
aliyun:
  sms:
    enabled: false  # 是否启用真实短信发送（true=真实发送，false=模拟发送）
    access-key-id: ${ALIYUN_ACCESS_KEY_ID:your-aliyun-access-key-id}  # 使用环境变量
    access-key-secret: ${ALIYUN_ACCESS_KEY_SECRET:your-aliyun-access-key-secret}  # 使用环境变量
    sign-name: 商南茶城  # 短信签名

mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.shangnantea.model.entity.user
  configuration:
    map-underscore-to-camel-case: true

logging:
  level:
    com.shangnantea: debug

# JWT配置
jwt:
  secret: shangnantea-secure-jwt-secret-key-2025
  expiration: 86400000 

# 应用配置
app:
  base-url: http://localhost:8080

# 支付宝配置（沙箱环境）
alipay:
  # 应用ID
  app-id: ${ALIPAY_APP_ID:your-alipay-app-id}  # 使用环境变量
  # 应用私钥
  private-key: ${ALIPAY_PRIVATE_KEY:your-alipay-private-key}  # 使用环境变量
  # 支付宝公钥
  public-key: ${ALIPAY_PUBLIC_KEY:your-alipay-public-key}  # 使用环境变量
  # 支付宝网关地址（沙箱环境）
  gateway-url: https://openapi-sandbox.dl.alipaydev.com/gateway.do
  # 签名类型
  sign-type: RSA2
  # 字符编码
  charset: UTF-8
  # 返回格式
  format: json
  # 同步回调地址（前端支付结果页面）
  return-url: http://96.30.204.197/？shangnantea/order/payment
  # 异步回调地址（后端接口 - 需要公网地址）
  notify-url: http://96.30.204.197:8080/api/order/alipay/notify
