# 状态码消息映射文档

## ⚠️ 重要：文档与代码同步维护

**本文档是状态码和消息的权威数据源，必须与 `apiMessages.js` 和 `openapi_new.yaml` 保持完全同步：**

1. **CODE_MAP 同步**：
   - 本文档中的所有状态码和消息必须出现在 `apiMessages.js` 的 `CODE_MAP` 中
   - 文档更新时，必须同步更新 `CODE_MAP`
   - 状态码去重：同一状态码只保留一个消息（四位数状态码足够分配，不会重复）

2. **SILENT_CODES 同步**：
   - 本文档中标注 `[静默]` 的状态码必须出现在 `apiMessages.js` 的 `SILENT_CODES` 中
   - 文档中未标注 `[静默]` 的状态码不应出现在 `SILENT_CODES` 中
   - 文档更新时，必须同步更新 `SILENT_CODES`

3. **OpenAPI 文档同步**：
   - **接口增加/删除时**：本文档必须同步更新接口信息，同时必须更新 `openapi_new.yaml` 中的接口定义
   - **状态码变更时**：本文档更新状态码后，必须同步更新 `openapi_new.yaml` 中对应接口的响应状态码定义
   - **接口路径/参数变更时**：必须同时更新本文档和 `openapi_new.yaml`
   - 确保三个文档（本文档、`apiMessages.js`、`openapi_new.yaml`）的接口信息完全一致

4. **维护原则**：
   - **文档优先**：本文档是唯一数据源，代码和 OpenAPI 文档从本文档提取
   - **三方同步**：本文档更新 → `apiMessages.js` 更新 → `openapi_new.yaml` 更新，保持三者一致性
   - **验证测试**：更新后必须测试验证消息显示是否正确

---

## 状态码分段规则

| 范围 | 模块 | 说明 |
|------|------|------|
| 200 | HTTP | 成功 |
| 400 | HTTP | 请求错误 |
| 401 | HTTP | 未认证 |
| 403 | HTTP | 无权限 |
| 404 | HTTP | 资源不存在 |
| 500 | HTTP | 服务器错误 |
| 1xxx | 通用 | 通用操作 |
| 2xxx | 用户 | 用户模块 |
| 3xxx | 茶叶 | 茶叶模块 |
| 4xxx | 店铺 | 店铺模块 |
| 5xxx | 订单 | 订单模块 |
| 6xxx | 论坛 | 论坛模块 |
| 7xxx | 消息 | 消息模块 |

---

## 状态码列表（按接口提取）

**说明**: 以下状态码从157个接口中逐行提取，每个接口下列出所有使用的状态码（包括逗号分隔的多个）。

### 一、用户模块接口 (user.js) - 共36个接口

#### 接口1: login - /user/login (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2000 | 登录成功 | 用户登录成功 | 显示 |
| 2100 | 登录失败，请检查用户名和密码 | 用户名或密码错误 | 显示 |
| 2101 | 登录失败，服务器Token生成失败 | 服务器Token生成失败 | 显示 |

#### 接口2: register - /user/register (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2001 | 注册成功，请登录 | 用户注册成功 | 显示 |
| 2102 | 注册失败，用户名已存在或数据格式错误 | 注册失败 | 显示 |

#### 接口3: logout - /user/logout (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2002 | 已安全退出系统 | 用户登出成功 | 显示 |
| 2103 | 退出登录失败 | 退出登录失败 | 显示 |

#### 接口4: getCurrentUser - /user/me (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取当前用户信息成功 | [静默] |
| 2104 | 获取当前用户信息失败 | 获取当前用户信息失败 | 显示 |

#### 接口5: refreshToken - /user/refresh (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 刷新令牌成功 | [静默] |
| 2105 | 刷新令牌失败 | 刷新令牌失败 | 显示 |
| 2106 | 您的登录已过期，请重新登录 | Token已过期 | 显示 |

#### 接口6: getUserInfo - /user/{userId} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取用户信息成功 | [静默] |
| 2107 | 获取用户信息失败 | 获取用户信息失败 | 显示 |

#### 接口7: updateUserInfo - /user (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2003 | 个人资料更新成功 | 更新用户信息成功 | 显示 |
| 2108 | 个人资料更新失败 | 更新用户信息失败 | 显示 |

#### 接口8: uploadAvatar - /user/avatar (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2004 | 头像更新成功 | 上传头像成功 | 显示 |
| 2109 | 头像更新失败 | 上传头像失败 | 显示 |
| 2110 | 不支持的文件类型 | 文件类型错误 | 显示 |
| 2111 | 文件大小超限 | 文件过大 | 显示 |

#### 接口9: changePassword - /user/password (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2005 | 密码修改成功，请使用新密码登录 | 修改密码成功 | 显示 |
| 2112 | 密码修改失败，请检查原密码是否正确 | 原密码错误 | 显示 |
| 2113 | 两次输入的密码不一致 | 密码不匹配 | 显示 |

#### 接口10: resetPassword - /user/password/reset (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2006 | 密码重置成功 | 重置密码成功 | 显示 |
| 2114 | 密码重置失败 | 重置密码失败 | 显示 |

#### 接口11: getAddressList - /user/addresses (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取地址列表成功 | [静默] |
| 2115 | 获取地址失败 | 获取地址列表失败 | 显示 |

#### 接口12: addAddress - /user/addresses (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2007 | 地址添加成功 | 添加地址成功 | 显示 |
| 2116 | 保存地址失败 | 添加地址失败 | 显示 |

#### 接口13: updateAddress - /user/addresses/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2008 | 更新成功 | 更新地址成功 | 显示 |
| 2117 | 保存地址失败 | 更新地址失败 | 显示 |

#### 接口14: deleteAddress - /user/addresses/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2009 | 删除成功 | 删除地址成功 | 显示 |
| 2118 | 操作失败 | 删除地址失败 | 显示 |

#### 接口15: setDefaultAddress - /user/addresses/{id}/default (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2010 | 更新成功 | 设置默认地址成功 | 显示 |
| 2119 | 操作失败 | 设置默认地址失败 | 显示 |

#### 接口16: submitShopCertification - /user/shop-certification (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2011 | 操作成功 | 提交商家认证成功 | 显示 |
| 2120 | 操作失败 | 提交商家认证失败 | 显示 |

#### 接口17: getShopCertificationStatus - /user/shop-certification (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取认证状态成功 | [静默] |
| 2121 | 加载失败 | 获取认证状态失败 | 显示 |

#### 接口18: getFollowList - /user/follows (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取关注列表成功 | [静默] |
| 2122 | 加载失败 | 获取关注列表失败 | 显示 |

#### 接口19: addFollow - /user/follows (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2012 | 已关注店铺 | 添加关注成功 | 显示 |
| 2123 | 操作失败 | 添加关注失败 | 显示 |

#### 接口20: removeFollow - /user/follows/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2013 | 已取消关注 | 取消关注成功 | [静默] |
| 2124 | 操作失败 | 取消关注失败 | 显示 |

#### 接口21: getFavoriteList - /user/favorites (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取收藏列表成功 | [静默] |
| 2125 | 加载失败 | 获取收藏列表失败 | 显示 |

#### 接口22: addFavorite - /user/favorites (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2014 | 已收藏 | 添加收藏成功 | 显示 |
| 2126 | 操作失败 | 收藏失败 | 显示 |

#### 接口23: removeFavorite - /user/favorites/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2015 | 已取消收藏 | 取消收藏成功 | [静默] |
| 2127 | 操作失败 | 取消收藏失败 | 显示 |

#### 接口24: addLike - /user/likes (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2016 | 点赞成功 | 点赞成功 | 显示 |
| 2128 | 点赞失败 | 点赞失败 | 显示 |

#### 接口25: removeLike - /user/likes/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2017 | 已取消点赞 | 取消点赞成功 | [静默] |
| 2129 | 取消点赞失败 | 取消点赞失败 | 显示 |

#### 接口26: getUserPreferences - /user/preferences (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取用户偏好设置成功 | [静默] |
| 2130 | 加载失败 | 获取用户偏好设置失败 | 显示 |

#### 接口27: updateUserPreferences - /user/preferences (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2018 | 偏好设置更新成功 | 更新用户偏好设置成功 | 显示 |
| 2131 | 偏好设置更新失败 | 更新用户偏好设置失败 | 显示 |

#### 接口28: getAdminUserList - /user/admin/users (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取用户列表成功 | [静默] |
| 2132 | 获取用户列表失败 | 获取用户列表失败 | 显示 |
| 2133 | 您没有权限执行此操作 | 权限不足 | 显示 |

#### 接口29: createAdmin - /user/admin/users (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2019 | 管理员已添加 | 创建管理员成功 | 显示 |
| 2134 | 提交失败 | 创建管理员失败 | 显示 |
| 2135 | 您没有权限执行此操作 | 权限不足 | 显示 |

#### 接口30: updateUser - /user/admin/users/{userId} (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2020 | 用户已更新 | 更新用户成功 | 显示 |
| 2136 | 提交失败 | 更新用户失败 | 显示 |
| 2137 | 您没有权限执行此操作 | 权限不足 | 显示 |

#### 接口31: deleteUser - /user/admin/users/{userId} (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2021 | 用户已删除 | 删除用户成功 | 显示 |
| 2138 | 删除用户失败 | 删除用户失败 | 显示 |
| 2139 | 您没有权限执行此操作 | 权限不足 | 显示 |

#### 接口32: toggleUserStatus - /user/admin/users/{userId}/status (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2022 | 用户状态已修改 | 切换用户状态成功 | 显示 |
| 2140 | 修改用户状态失败 | 切换用户状态失败 | 显示 |
| 2141 | 您没有权限执行此操作 | 权限不足 | 显示 |

#### 接口33: getCertificationList - /user/admin/certifications (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取认证列表成功 | [静默] |
| 2142 | 加载失败 | 获取认证列表失败 | 显示 |
| 2143 | 您没有权限执行此操作 | 权限不足 | 显示 |

#### 接口34: processCertification - /user/admin/certifications/{id} (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2023 | 操作成功 | 审核认证成功 | 显示 |
| 2144 | 操作失败 | 审核认证失败 | 显示 |
| 2145 | 您没有权限执行此操作 | 权限不足 | 显示 |

#### 接口35: uploadCertificationImage - /user/merchant/certification/image (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2024 | 图片上传成功 | 上传商家认证图片成功 | 显示 |
| 2146 | 图片上传失败 | 上传商家认证图片失败 | 显示 |
| 2147 | 不支持的文件类型 | 文件类型错误 | 显示 |
| 2148 | 文件大小超限 | 文件过大 | 显示 |

#### 接口36: sendVerificationCode - /user/verification-code/send (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 2025 | 验证码已发送 | 发送验证码成功 | 显示 |
| 2149 | 发送验证码失败 | 发送验证码失败 | 显示 |
| 2150 | 发送过于频繁，请稍后再试 | 发送频率限制 | 显示 |
| 2151 | 验证码已过期 | 验证码过期 | 显示 |

### 二、茶叶模块接口 (tea.js) - 共24个接口

#### 接口1: getTeas - /tea/list (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3000 | 茶叶列表加载成功 | 获取茶叶列表成功 | [静默] |
| 3100 | 加载茶叶数据失败 | 获取茶叶列表失败 | 显示 |

#### 接口2: addTea - /tea/list (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3001 | 茶叶添加成功 | 添加茶叶成功 | 显示 |
| 3101 | 操作失败 | 添加茶叶失败 | 显示 |

#### 接口3: getTeaDetail - /tea/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取茶叶详情成功 | [静默] |
| 3102 | 加载茶叶详情失败 | 获取茶叶详情失败 | 显示 |

#### 接口4: updateTea - /tea/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3002 | 茶叶更新成功 | 更新茶叶成功 | 显示 |
| 3103 | 操作失败 | 更新茶叶失败 | 显示 |

#### 接口5: deleteTea - /tea/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3003 | 删除成功 | 删除茶叶成功 | 显示 |
| 3104 | 删除失败 | 删除茶叶失败 | 显示 |

#### 接口6: getRecommendTeas - /tea/recommend (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取推荐茶叶成功 | [静默] |
| 3105 | 加载茶叶数据失败 | 获取推荐茶叶失败 | 显示 |

#### 接口7: getTeaCategories - /tea/categories (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取分类列表成功 | [静默] |
| 3106 | 操作失败 | 获取分类列表失败 | 显示 |

#### 接口8: createCategory - /tea/categories (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3004 | 分类创建成功 | 创建分类成功 | 显示 |
| 3107 | 操作失败 | 创建分类失败 | 显示 |

#### 接口9: updateCategory - /tea/categories/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3005 | 分类更新成功 | 更新分类成功 | 显示 |
| 3108 | 操作失败 | 更新分类失败 | 显示 |

#### 接口10: deleteCategory - /tea/categories/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3006 | 分类删除成功 | 删除分类成功 | 显示 |
| 3109 | 删除分类失败 | 删除分类失败 | 显示 |

#### 接口11: getTeaReviews - /tea/{teaId}/reviews (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取评价列表成功 | [静默] |
| 3110 | 加载失败 | 获取评价列表失败 | 显示 |

#### 接口12: getReviewStats - /tea/{teaId}/reviews/stats (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取评价统计成功 | [静默] |
| 3111 | 加载失败 | 获取评价统计失败 | 显示 |

(已删除第十三接口)

**⚠️ 此接口已被删除**

**删除原因**: 此接口为冗余接口，茶叶评价应该在订单完成后通过订单模块的 `reviewOrder` 接口提交（POST /order/review），而不是在茶叶模块直接提交。

**正确流程**: 用户完成订单 → 订单模块提交评价 → 评价数据写入 tea_reviews 表

**状态码保留**: 状态码 3007 和 3112 保留分配，标记为已弃用（DEPRECATED），不再使用但不回收。

#### 接口14: replyReview - /tea/reviews/{reviewId}/reply (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3008 | 回复成功 | 回复评价成功 | 显示 |
| 3113 | 回复失败 | 回复评价失败 | 显示 |

(已删除第十五接口)

**⚠️ 此接口已被删除**

**删除原因**: 点赞/关注/收藏统一使用用户模块通用接口（/user/likes、/user/follows、/user/favorites），不再提供模块专属点赞接口。

**替代接口**: POST /user/likes（targetType=review，targetId=reviewId）

**状态码保留**: 状态码 3009 和 3114 保留分配，标记为已弃用（DEPRECATED），不再使用但不回收。

#### 接口16: getTeaSpecifications - /tea/{teaId}/specifications (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取规格列表成功 | [静默] |
| 3115 | 加载失败 | 获取规格列表失败 | 显示 |

#### 接口17: addSpecification - /tea/{teaId}/specifications (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3010 | 操作成功 | 添加规格成功 | 显示 |
| 3116 | 操作失败 | 添加规格失败 | 显示 |

#### 接口18: updateSpecification - /tea/specifications/{specId} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3011 | 更新成功 | 更新规格成功 | 显示 |
| 3117 | 操作失败 | 更新规格失败 | 显示 |

#### 接口19: deleteSpecification - /tea/specifications/{specId} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3012 | 删除成功 | 删除规格成功 | 显示 |
| 3118 | 操作失败 | 删除规格失败 | 显示 |

#### 接口20: setDefaultSpecification - /tea/specifications/{specId}/default (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3013 | 更新成功 | 设置默认规格成功 | 显示 |
| 3119 | 操作失败 | 设置默认规格失败 | 显示 |

#### 接口21: uploadTeaImages - /tea/{teaId}/images (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3014 | 上传成功 | 上传图片成功 | 显示 |
| 3120 | 上传失败 | 上传图片失败 | 显示 |
| 3121 | 不支持的文件类型 | 文件类型错误 | 显示 |
| 3122 | 文件大小超限 | 文件过大 | 显示 |

#### 接口22: deleteTeaImage - /tea/images/{imageId} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3015 | 删除成功 | 删除图片成功 | 显示 |
| 3123 | 操作失败 | 删除图片失败 | 显示 |

#### 接口23: setMainImage - /tea/images/{imageId}/main (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3016 | 更新成功 | 设置主图成功 | 显示 |
| 3124 | 操作失败 | 设置主图失败 | 显示 |

#### 接口24: updateImageOrder - /tea/images/order (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3017 | 更新成功 | 更新图片顺序成功 | 显示 |
| 3125 | 操作失败 | 更新图片顺序失败 | 显示 |

#### 接口25: toggleTeaStatus - /tea/{teaId}/status (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3018 | 上架成功 | 茶叶上架成功 | 显示 |
| 3019 | 下架成功 | 茶叶下架成功 | 显示 |
| 3126 | 上架失败 | 茶叶上架失败 | 显示 |
| 3127 | 下架失败 | 茶叶下架失败 | 显示 |

#### 接口26: batchToggleTeaStatus - /tea/batch-status (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 3020 | 批量上架成功 | 批量上架成功 | 显示 |
| 3021 | 批量下架成功 | 批量下架成功 | 显示 |
| 3128 | 批量上架失败 | 批量上架失败 | 显示 |
| 3129 | 批量下架失败 | 批量下架失败 | 显示 |

### 三、店铺模块接口 (shop.js) - 共23个接口

#### 接口1: getShops - /shop/list (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取店铺列表成功 | [静默] |
| 4100 | 加载店铺数据失败 | 获取店铺列表失败 | 显示 |

#### 接口2: createShop - /shop/list (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4000 | 操作成功 | 创建店铺成功 | 显示 |
| 4101 | 操作失败 | 创建店铺失败 | 显示 |

#### 接口3: getShopDetail - /shop/{id} (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取店铺详情成功 | [静默] |
| 4102 | 加载店铺信息失败 | 获取店铺详情失败 | 显示 |
| 4103 | 店铺信息不存在 | 店铺不存在 | 显示 |

#### 接口4: updateShop - /shop/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4001 | 更新成功 | 更新店铺信息成功 | 显示 |
| 4104 | 操作失败 | 更新店铺信息失败 | 显示 |

#### 接口5: getMyShop - /shop/my (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取我的店铺成功 | [静默] |
| 4105 | 加载店铺信息失败 | 获取我的店铺失败 | 显示 |

#### 接口6: getShopStatistics - /shop/{shopId}/statistics (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取店铺统计成功 | [静默] |
| 4106 | 加载失败 | 获取店铺统计失败 | 显示 |

#### 接口7: getShopTeas - /shop/{shopId}/teas (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取店铺茶叶成功 | [静默] |
| 4107 | 加载店铺数据失败 | 获取店铺茶叶失败 | 显示 |

#### 接口8: addShopTea - /shop/{shopId}/teas (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4002 | 茶叶添加成功 | 添加店铺茶叶成功 | 显示 |
| 4108 | 操作失败 | 添加店铺茶叶失败 | 显示 |

#### 接口9: updateShopTea - /shop/teas/{teaId} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4003 | 茶叶更新成功 | 更新店铺茶叶成功 | 显示 |
| 4109 | 操作失败 | 更新店铺茶叶失败 | 显示 |

#### 接口10: deleteShopTea - /shop/teas/{teaId} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4004 | 删除成功 | 删除店铺茶叶成功 | 显示 |
| 4110 | 删除失败 | 删除店铺茶叶失败 | 显示 |

#### 接口11: toggleShopTeaStatus - /shop/teas/{teaId}/status (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4005 | 上架成功 | 茶叶上架成功 | 显示 |
| 4006 | 下架成功 | 茶叶下架成功 | 显示 |
| 4111 | 上架失败 | 茶叶上架失败 | 显示 |
| 4112 | 下架失败 | 茶叶下架失败 | 显示 |

#### 接口12: uploadShopLogo - /shop/{shopId}/logo (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4007 | Logo上传成功 | 上传Logo成功 | 显示 |
| 4113 | Logo上传失败 | 上传Logo失败 | 显示 |
| 4114 | 不支持的文件类型 | 文件类型错误 | 显示 |
| 4115 | 文件大小超限 | 文件过大 | 显示 |

#### 接口13: getShopBanners - /shop/{shopId}/banners (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取Banner列表成功 | [静默] |
| 4116 | 加载Banner列表失败 | 获取Banner列表失败 | 显示 |

#### 接口14: uploadBanner - /shop/{shopId}/banners (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4008 | Banner添加成功 | 上传Banner成功 | 显示 |
| 4117 | 保存失败 | 上传Banner失败 | 显示 |
| 4118 | 不支持的文件类型 | 文件类型错误 | 显示 |
| 4119 | 文件大小超限 | 文件过大 | 显示 |

#### 接口15: updateBanner - /shop/banners/{bannerId} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4009 | Banner更新成功 | 更新Banner成功 | 显示 |
| 4120 | 保存失败 | 更新Banner失败 | 显示 |

#### 接口16: deleteBanner - /shop/banners/{bannerId} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4010 | 删除成功 | 删除Banner成功 | 显示 |
| 4121 | 删除失败 | 删除Banner失败 | 显示 |

#### 接口17: updateBannerOrder - /shop/banners/order (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4011 | 排序更新成功 | 更新Banner排序成功 | 显示 |
| 4122 | 排序更新失败 | 更新Banner排序失败 | 显示 |

#### 接口18: getShopAnnouncements - /shop/{shopId}/announcements (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取公告列表成功 | [静默] |
| 4123 | 加载公告列表失败 | 获取公告列表失败 | 显示 |

#### 接口19: createAnnouncement - /shop/{shopId}/announcements (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4012 | 公告添加成功 | 创建公告成功 | 显示 |
| 4124 | 保存失败 | 创建公告失败 | 显示 |

#### 接口20: updateAnnouncement - /shop/announcements/{announcementId} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4013 | 公告更新成功 | 更新公告成功 | 显示 |
| 4125 | 保存失败 | 更新公告失败 | 显示 |

#### 接口21: deleteAnnouncement - /shop/announcements/{announcementId} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4014 | 删除成功 | 删除公告成功 | 显示 |
| 4126 | 删除失败 | 删除公告失败 | 显示 |

(已删除店铺模块关注相关接口：第22-24接口)

**⚠️ 以下3个接口已被删除**

1. POST /shop/{shopId}/follow（原成功码4015，失败码4127）
2. DELETE /shop/{shopId}/follow（原成功码4016，失败码4128）
3. GET /shop/{shopId}/follow-status（原成功码200，失败码4129）

**删除原因**: 点赞/关注/收藏统一使用用户模块通用接口，不再提供模块专属关注接口；关注状态由详情接口返回字段 `isFollowed`。

**替代接口**:
- 关注：POST /user/follows（targetType=shop，targetId=shopId）
- 取消关注：DELETE /user/follows/{id}
- 状态检查：GET /shop/{id} 返回 `isFollowed`

**状态码保留**: 状态码 4015、4016、4127、4128、4129 保留分配，标记为已弃用（DEPRECATED），不再使用但不回收。

#### 接口25: getShopReviews - /shop/{shopId}/reviews (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取店铺评价成功 | [静默] |
| 4130 | 加载评价失败 | 获取店铺评价失败 | 显示 |

#### 接口26: submitShopReview - /shop/{shopId}/reviews (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 4017 | 评价提交成功 | 提交店铺评价成功 | 显示 |
| 4131 | 未购买过该店铺商品，无法评价 | 用户未购买过该店铺的茶叶 | 显示 |
| 4132 | 提交评价失败 | 评价提交失败（系统错误） | 显示 |

### 四、订单模块接口 (order.js) - 共21个接口

#### 接口1: getCartItems - /order/cart (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取购物车成功 | [静默] |
| 5100 | 获取购物车数据失败 | 获取购物车失败 | 显示 |

#### 接口2: addToCart - /order/cart/add (5个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5000 | 已加入购物车 | 加入购物车成功 | 显示 |
| 5101 | 加入购物车失败 | 加入购物车失败 | 显示 |
| 5102 | 商品库存不足 | 库存不足 | 显示 |
| 5103 | 已达到购买数量上限 | 数量上限 | 显示 |
| 5104 | 商品已下架或不可用 | 商品无效 | 显示 |

#### 接口3: updateCartItem - /order/cart/update (5个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5001 | 商品数量已更新 | 更新数量成功 | 显示 |
| 5002 | 规格已更新 | 更新规格成功 | 显示 |
| 5105 | 更新数量失败 | 更新失败 | 显示 |
| 5106 | 商品库存不足 | 库存不足 | 显示 |
| 5107 | 已达到购买数量上限 | 数量上限 | 显示 |

#### 接口4: removeFromCart - /order/cart/remove (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5003 | 商品已从购物车移除 | 移除商品成功 | 显示 |
| 5108 | 移除商品失败 | 移除商品失败 | 显示 |

#### 接口5: clearCart - /order/cart/clear (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5004 | 购物车已清空 | 清空购物车成功 | 显示 |
| 5109 | 清空购物车失败 | 清空购物车失败 | 显示 |

#### 接口6: createOrder - /order/create (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5005 | 订单创建成功 | 创建订单成功 | 显示 |
| 5110 | 创建订单失败 | 创建订单失败 | 显示 |
| 5111 | 商品库存不足 | 库存不足 | 显示 |
| 5112 | 商品已下架或不可用 | 商品无效 | 显示 |

#### 接口7: getOrders - /order/list (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取订单列表成功 | [静默] |
| 5113 | 加载失败 | 获取订单列表失败 | 显示 |

#### 接口8: getOrderDetail - /order/{id} (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取订单详情成功 | [静默] |
| 5114 | 订单不存在 | 订单不存在 | 显示 |
| 5115 | 您没有权限操作此订单 | 无权限 | 显示 |
| 5116 | 获取订单详情失败 | 获取详情失败 | 显示 |

#### 接口9: payOrder - /order/pay (5个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5006 | 订单已支付 | 订单重复支付 | 显示 |
| 5007 | 支付表单生成成功，正在跳转... | 生成支付表单成功 | 显示 |
| 5117 | 支付失败 | 支付失败（通用） | 显示 |
| 5118 | 不支持的支付方式 | 支付方式无效 | 显示 |
| 5119 | 生成支付表单失败 | 调用支付SDK失败 | 显示 |

**说明**：
- 5120（余额不足）已废除，不再使用
- 5118 原为"支付已取消"，现改为"不支持的支付方式"
- 5119 原为"支付超时"，现改为"生成支付表单失败"

#### 接口10: cancelOrder - /order/cancel (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5008 | 订单已取消 | 取消订单成功 | 显示 |
| 5121 | 取消订单失败 | 取消订单失败 | 显示 |
| 5122 | 订单不存在 | 订单不存在 | 显示 |
| 5123 | 您没有权限操作此订单 | 无权限 | 显示 |

#### 接口11: confirmOrder - /order/confirm (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5009 | 确认收货成功 | 确认收货成功 | 显示 |
| 5124 | 确认收货失败 | 确认收货失败 | 显示 |
| 5125 | 订单不存在 | 订单不存在 | 显示 |
| 5126 | 您没有权限操作此订单 | 无权限 | 显示 |

#### 接口12: reviewOrder - /order/review (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5010 | 评价提交成功，感谢您的反馈 | 评价订单成功 | 显示 |
| 5127 | 评价提交失败 | 评价订单失败 | 显示 |

#### 接口13: refundOrder - /order/refund (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5011 | 退款申请已提交，等待商家审核 | 申请退款成功 | 显示 |
| 5128 | 退款申请提交失败 | 申请退款失败 | 显示 |
| 5129 | 订单不存在 | 订单不存在 | 显示 |
| 5130 | 您没有权限操作此订单 | 无权限 | 显示 |

#### 接口14: processRefund - /order/{id}/refund/process (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5012 | 已同意退款申请 | 同意退款成功 | 显示 |
| 5013 | 已拒绝退款申请 | 拒绝退款成功 | 显示 |
| 5131 | 退款申请失败 | 处理退款失败 | 显示 |
| 5132 | 您没有权限操作此订单 | 无权限 | 显示 |

#### 接口15: getRefundDetail - /order/{id}/refund (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取退款详情成功 | [静默] |
| 5133 | 获取退款详情失败 | 获取退款详情失败 | 显示 |
| 5134 | 订单不存在 | 订单不存在 | 显示 |

#### 接口16: shipOrder - /order/{id}/ship (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5014 | 发货成功 | 发货成功 | 显示 |
| 5135 | 发货失败 | 发货失败 | 显示 |
| 5136 | 订单不存在 | 订单不存在 | 显示 |
| 5137 | 您没有权限操作此订单 | 无权限 | 显示 |

#### 接口17: batchShipOrders - /order/batch-ship (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5015 | 批量发货成功 | 批量发货成功 | 显示 |
| 5138 | 批量发货失败 | 批量发货失败 | 显示 |
| 5139 | 您没有权限操作此订单 | 无权限 | 显示 |

#### 接口18: getOrderLogistics - /order/{id}/logistics (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取物流信息成功 | [静默] |
| 5140 | 获取物流信息失败 | 获取物流信息失败 | 显示 |
| 5141 | 订单不存在 | 订单不存在 | 显示 |

#### 接口19: getOrderStatistics - /order/statistics (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取订单统计成功 | [静默] |
| 5142 | 加载失败 | 获取订单统计失败 | 显示 |

#### 接口20: exportOrders - /order/export (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 导出订单数据成功 | [静默] |
| 5143 | 操作失败 | 导出订单数据失败 | 显示 |

#### 接口21: uploadReviewImage - /order/review/image (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 5016 | 图片上传成功 | 上传订单评价图片成功 | 显示 |
| 5144 | 图片上传失败 | 上传订单评价图片失败 | 显示 |
| 5145 | 不支持的文件类型 | 文件类型错误 | 显示 |
| 5146 | 文件大小超限 | 文件过大 | 显示 |

### 五、论坛模块接口 (forum.js) - 共31个接口

#### 接口1: getHomeData - /forum/home (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取首页数据成功 | [静默] |
| 6100 | 获取首页数据失败 | 获取首页数据失败 | 显示 |

#### 接口2: updateHomeData - /forum/home (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6000 | 区块内容已保存 | 更新首页数据成功 | 显示 |
| 6101 | 保存失败 | 更新首页数据失败 | 显示 |

#### 接口3: getBanners - /forum/banners (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取Banner列表成功 | [静默] |
| 6102 | 获取轮播图数据失败 | 获取Banner列表失败 | 显示 |

#### 接口4: uploadBanner - /forum/banners (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6001 | Banner添加成功 | 上传Banner成功 | 显示 |
| 6103 | 保存失败 | 上传Banner失败 | 显示 |
| 6104 | 不支持的文件类型 | 文件类型错误 | 显示 |
| 6105 | 文件大小超限 | 文件过大 | 显示 |

#### 接口5: updateBanner - /forum/banners/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6002 | Banner更新成功 | 更新Banner成功 | 显示 |
| 6106 | 保存失败 | 更新Banner失败 | 显示 |

#### 接口6: deleteBanner - /forum/banners/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6003 | 删除成功 | 删除Banner成功 | 显示 |
| 6107 | 删除失败 | 删除Banner失败 | 显示 |

#### 接口7: updateBannerOrder - /forum/banners/order (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6004 | 排序更新成功 | 更新Banner排序成功 | 显示 |
| 6108 | 排序更新失败 | 更新Banner排序失败 | 显示 |

#### 接口8: getArticles - /forum/articles (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取文章列表成功 | [静默] |
| 6109 | 获取文章列表失败 | 获取文章列表失败 | 显示 |

#### 接口9: getArticleDetail - /forum/articles/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取文章详情成功 | [静默] |
| 6110 | 获取文章详情失败 | 获取文章详情失败 | 显示 |

#### 接口10: createArticle - /forum/articles (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6005 | 文章创建成功 | 创建文章成功 | 显示 |
| 6111 | 文章创建失败 | 创建文章失败 | 显示 |

#### 接口11: updateArticle - /forum/articles/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6006 | 文章更新成功 | 更新文章成功 | 显示 |
| 6112 | 文章更新失败 | 更新文章失败 | 显示 |

#### 接口12: deleteArticle - /forum/articles/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6007 | 文章已删除 | 删除文章成功 | 显示 |
| 6113 | 文章删除失败 | 删除文章失败 | 显示 |

#### 接口13: getForumTopics - /forum/topics (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取版块列表成功 | [静默] |
| 6114 | 获取版块列表失败 | 获取版块列表失败 | 显示 |

#### 接口14: getTopicDetail - /forum/topics/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取版块详情成功 | [静默] |
| 6115 | 获取版块详情失败 | 获取版块详情失败 | 显示 |

#### 接口15: createTopic - /forum/topics (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6008 | 添加版块成功 | 创建版块成功 | 显示 |
| 6116 | 添加版块失败 | 创建版块失败 | 显示 |

#### 接口16: updateTopic - /forum/topics/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6009 | 更新版块成功 | 更新版块成功 | 显示 |
| 6117 | 更新版块失败 | 更新版块失败 | 显示 |

#### 接口17: deleteTopic - /forum/topics/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6010 | 删除版块成功 | 删除版块成功 | 显示 |
| 6118 | 删除版块失败 | 删除版块失败 | 显示 |

#### 接口18: getForumPosts - /forum/posts (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取帖子列表成功 | [静默] |
| 6119 | 获取帖子列表失败 | 获取帖子列表失败 | 显示 |

#### 接口19: createPost - /forum/posts (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6011 | 帖子发布成功 | 创建帖子成功 | 显示 |
| 6120 | 帖子发布失败 | 创建帖子失败 | 显示 |

#### 接口20: getPendingPosts - /forum/posts/pending (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取待审核帖子成功 | [静默] |
| 6121 | 获取待审核帖子列表失败 | 获取待审核帖子失败 | 显示 |

#### 接口21: getPostDetail - /forum/posts/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取帖子详情成功 | [静默] |
| 6122 | 获取帖子详情失败 | 获取帖子详情失败 | 显示 |

#### 接口22: updatePost - /forum/posts/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6012 | 帖子更新成功 | 更新帖子成功 | 显示 |
| 6123 | 帖子更新失败 | 更新帖子失败 | 显示 |

#### 接口23: deletePost - /forum/posts/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6013 | 帖子删除成功 | 删除帖子成功 | 显示 |
| 6124 | 帖子删除失败 | 删除帖子失败 | 显示 |

(已删除帖子收藏/点赞相关接口：第24-27接口)

**⚠️ 以下4个接口已被删除**

1. POST /forum/posts/{id}/like（原成功码6014，失败码6125）
2. DELETE /forum/posts/{id}/like（原成功码6015，失败码6126）
3. POST /forum/posts/{id}/favorite（原成功码6016，失败码6127）
4. DELETE /forum/posts/{id}/favorite（原成功码6017，失败码6128）

**删除原因**: 点赞/关注/收藏统一使用用户模块通用接口，不再提供模块专属接口；状态由详情接口返回字段 `isLiked`、`isFavorited`。

**替代接口**:
- 点赞：POST /user/likes（targetType=post，targetId=id）
- 取消点赞：DELETE /user/likes/{id}
- 收藏：POST /user/favorites（itemType=post，itemId=id）
- 取消收藏：DELETE /user/favorites/{id}
- 状态检查：GET /forum/posts/{id} 返回 `isLiked`、`isFavorited`

**状态码保留**: 状态码 6014、6015、6016、6017、6125、6126、6127、6128 保留分配，标记为已弃用（DEPRECATED），不再使用但不回收。

#### 接口28: getPostReplies - /forum/posts/{id}/replies (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取回复列表成功 | [静默] |
| 6129 | 获取回复列表失败 | 获取回复列表失败 | 显示 |

#### 接口29: createReply - /forum/posts/{id}/replies (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6018 | 回复发布成功 | 创建回复成功 | 显示 |
| 6130 | 回复发布失败 | 创建回复失败 | 显示 |

#### 接口30: deleteReply - /forum/replies/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6019 | 评论已删除 | 删除回复成功 | 显示 |
| 6131 | 评论删除失败 | 删除回复失败 | 显示 |

(已删除回复点赞相关接口：第31-32接口)

**⚠️ 以下2个接口已被删除**

1. POST /forum/replies/{id}/like（原成功码6020，失败码6132）
2. DELETE /forum/replies/{id}/like（原成功码6021，失败码6133）

**删除原因**: 点赞/关注/收藏统一使用用户模块通用接口，不再提供模块专属接口；状态由列表/详情接口返回字段 `isLiked`。

**替代接口**:
- 点赞：POST /user/likes（targetType=reply，targetId=id）
- 取消点赞：DELETE /user/likes/{id}
- 状态检查：GET /forum/posts/{postId}/replies 每条回复返回 `isLiked`

**状态码保留**: 状态码 6020、6021、6132、6133 保留分配，标记为已弃用（DEPRECATED），不再使用但不回收。

#### 接口33: approvePost - /forum/posts/{id}/approve (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6022 | 帖子审核通过 | 审核通过成功 | 显示 |
| 6134 | 审核通过失败 | 审核通过失败 | 显示 |

#### 接口34: rejectPost - /forum/posts/{id}/reject (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6023 | 帖子审核拒绝 | 审核拒绝成功 | 显示 |
| 6135 | 审核拒绝失败 | 审核拒绝失败 | 显示 |

#### 接口35: togglePostSticky - /forum/posts/{id}/sticky (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6024 | 帖子已置顶 | 置顶成功 | 显示 |
| 6025 | 帖子已取消置顶 | 取消置顶成功 | 显示 |
| 6136 | 置顶失败 | 置顶失败 | 显示 |
| 6137 | 取消置顶失败 | 取消置顶失败 | 显示 |

#### 接口36: togglePostEssence - /forum/posts/{id}/essence (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6026 | 帖子已加精 | 加精成功 | 显示 |
| 6027 | 帖子已取消加精 | 取消加精成功 | 显示 |
| 6138 | 加精失败 | 加精失败 | 显示 |
| 6139 | 取消加精失败 | 取消加精失败 | 显示 |

#### 接口37: uploadPostImage - /forum/posts/image (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 6028 | 图片上传成功 | 上传帖子图片成功 | 显示 |
| 6140 | 图片上传失败 | 上传帖子图片失败 | 显示 |
| 6141 | 不支持的文件类型 | 文件类型错误 | 显示 |
| 6142 | 文件大小超限 | 文件过大 | 显示 |

### 六、消息模块接口 (message.js) - 共22个接口

#### 接口1: getMessages - /message/list (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取消息列表成功 | [静默] |
| 7100 | 加载失败 | 获取消息列表失败 | 显示 |

#### 接口2: getMessageDetail - /message/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取消息详情成功 | [静默] |
| 7101 | 加载失败 | 获取消息详情失败 | 显示 |

#### 接口3: sendMessage - /message/send (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 7000 | 消息发送成功 | 发送消息成功 | 显示 |
| 7102 | 发送失败 | 发送消息失败 | 显示 |

#### 接口4: markAsRead - /message/read (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 7001 | 通知已标记为已读 | 标记已读成功 | [静默] |
| 7103 | 标记已读失败 | 标记已读失败 | 显示 |

#### 接口5: deleteMessages - /message/delete (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 7002 | 通知已删除 | 删除消息成功 | 显示 |
| 7104 | 操作失败 | 删除消息失败 | 显示 |

#### 接口6: getUnreadCount - /message/unread-count (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取未读数量成功 | [静默] |
| 7105 | 加载失败 | 获取未读数量失败 | 显示 |

#### 接口7: getNotifications - /message/notifications (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取通知列表成功 | [静默] |
| 7106 | 加载失败 | 获取通知列表失败 | 显示 |

#### 接口8: getNotificationDetail - /message/notifications/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取通知详情成功 | [静默] |
| 7107 | 加载失败 | 获取通知详情失败 | 显示 |

#### 接口9: deleteNotification - /message/notifications/{id} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 7003 | 通知已删除 | 删除通知成功 | 显示 |
| 7108 | 操作失败 | 删除通知失败 | 显示 |

#### 接口10: batchMarkAsRead - /message/notifications/batch-read (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 7004 | 所有通知已标记为已读 | 批量标记已读成功 | [静默] |
| 7109 | 标记已读失败 | 批量标记已读失败 | 显示 |

#### 接口11: batchDeleteNotifications - /message/notifications/batch (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 7005 | 所有通知已清空 | 批量删除通知成功 | 显示 |
| 7110 | 操作失败 | 批量删除通知失败 | 显示 |

#### 接口12: getChatSessions - /message/list/sessions (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取会话列表成功 | [静默] |
| 7111 | 加载失败 | 获取会话列表失败 | 显示 |

#### 接口13: getChatHistory - /message/list/history (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取聊天记录成功 | [静默] |
| 7112 | 加载失败 | 获取聊天记录失败 | 显示 |

#### 接口14: createChatSession - /message/sessions (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 7006 | 操作成功 | 创建会话成功 | 显示 |
| 7113 | 操作失败 | 创建会话失败 | 显示 |

#### 接口15: pinChatSession - /message/sessions/{sessionId}/pin (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 7007 | 通知已置顶 | 置顶会话成功 | 显示 |
| 7114 | 操作失败 | 置顶会话失败 | 显示 |

#### 接口16: deleteChatSession - /message/sessions/{sessionId} (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 7008 | 会话已删除 | 删除会话成功 | 显示 |
| 7115 | 操作失败 | 删除会话失败 | 显示 |

#### 接口17: sendImageMessage - /message/messages/image (4个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 7009 | 图片上传成功 | 发送图片消息成功 | 显示 |
| 7116 | 图片上传失败 | 发送图片消息失败 | 显示 |
| 7117 | 不支持的文件类型 | 文件类型错误 | 显示 |
| 7118 | 文件大小超限 | 文件过大 | 显示 |

#### 接口18: getUserProfile - /message/user/{userId} (3个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取用户主页成功 | [静默] |
| 7119 | 未能获取到用户信息 | 获取用户主页失败 | 显示 |
| 7120 | 用户信息不完整 | 用户信息不完整 | 显示 |

#### 接口19: getUserDynamic - /message/user/{userId}/dynamic (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取用户动态成功 | [静默] |
| 7121 | 未能获取到用户信息 | 获取用户动态失败 | 显示 |

#### 接口20: getUserStatistics - /message/user/{userId}/statistics (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取用户统计成功 | [静默] |
| 7122 | 未能获取到用户信息 | 获取用户统计失败 | 显示 |

#### 接口21: getUserPosts - /message/user/posts (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取用户帖子成功 | [静默] |
| 7123 | 加载失败 | 获取用户帖子失败 | 显示 |

#### 接口22: getUserReviews - /message/user/reviews (2个状态码)

| Code | 消息 | 场景 | 显示 |
|------|------|------|------|
| 200 | 操作成功 | 获取用户评价成功 | [静默] |
| 7124 | 加载失败 | 获取用户评价失败 | 显示 |

---



## 使用说明

1. 成功码一般为 x0xx 格式
2. 失败码一般为 x1xx 格式
3. 前端根据 code 查找对应消息显示
4. 后端返回格式: `{ code: number, data: any }`

### ⚠️ 同步维护要求

**本文档与 `apiMessages.js` 必须保持同步：**

- 文档更新状态码 → 必须同步更新 `CODE_MAP`
- 文档标注 `[静默]` → 必须同步更新 `SILENT_CODES`
- 文档移除状态码 → 必须同步从代码中移除
- 文档修改消息 → 必须同步更新 `CODE_MAP` 中的消息

**维护流程：**
1. 在本文档中更新状态码和消息
2. 在 `apiMessages.js` 中同步更新 `CODE_MAP` 和 `SILENT_CODES`
3. 测试验证消息显示是否正确
4. 提交代码时，确保文档和代码同步提交


---

# 接口状态码映射

本章节列出所有API接口及其对应的状态码，方便后端开发时参考。

## 一、用户模块接口 (user.js) - 共36个接口

### 1.1 认证相关 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 1 | login | POST | /user/login | 2000 | 2100, 2101 | 用户登录 |
| 2 | register | POST | /user/register | 2001 | 2102 | 用户注册 |
| 3 | logout | POST | /user/logout | 2002 | 2103 | 退出登录 |
| 4 | getCurrentUser | GET | /user/me | 200 | 2104 | 获取当前用户 |
| 5 | refreshToken | POST | /user/refresh | 200 | 2105, 2106 | 刷新令牌 |

### 1.2 用户信息相关 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 6 | getUserInfo | GET | /user/{userId} | 200 | 2107 | 获取用户信息（返回包含：isFollowed） |
| 7 | updateUserInfo | PUT | /user | 2003 | 2108 | 更新用户信息 |
| 8 | uploadAvatar | POST | /user/avatar | 2004 | 2109, 2110, 2111 | 上传头像 |
| 9 | changePassword | PUT | /user/password | 2005 | 2112, 2113 | 修改密码 |
| 10 | resetPassword | POST | /user/password/reset | 2006 | 2114 | 密码重置 |

### 1.3 用户地址相关 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 11 | getAddressList | GET | /user/addresses | 200 | 2115 | 获取地址列表 |
| 12 | addAddress | POST | /user/addresses | 2007 | 2116 | 添加地址 |
| 13 | updateAddress | PUT | /user/addresses/{id} | 2008 | 2117 | 更新地址 |
| 14 | deleteAddress | DELETE | /user/addresses/{id} | 2009 | 2118 | 删除地址 |
| 15 | setDefaultAddress | PUT | /user/addresses/{id}/default | 2010 | 2119 | 设置默认地址 |

### 1.4 商家认证相关 (2个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 16 | submitShopCertification | POST | /user/shop-certification | 2011 | 2120 | 提交商家认证 |
| 17 | getShopCertificationStatus | GET | /user/shop-certification | 200 | 2121 | 获取认证状态 |

### 1.5 用户互动相关 (8个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 18 | getFollowList | GET | /user/follows | 200 | 2122 | 获取关注列表 |
| 19 | addFollow | POST | /user/follows | 2012 | 2123 | 添加关注 |
| 20 | removeFollow | DELETE | /user/follows/{id} | 2013 | 2124 | 取消关注 |
| 21 | getFavoriteList | GET | /user/favorites | 200 | 2125 | 获取收藏列表 |
| 22 | addFavorite | POST | /user/favorites | 2014 | 2126 | 添加收藏 |
| 23 | removeFavorite | DELETE | /user/favorites/{id} | 2015 | 2127 | 取消收藏 |
| 24 | addLike | POST | /user/likes | 2016 | 2128 | 点赞 |
| 25 | removeLike | DELETE | /user/likes/{id} | 2017 | 2129 | 取消点赞 |

### 1.6 用户偏好设置 (2个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 26 | getUserPreferences | GET | /user/preferences | 200 | 2130 | 获取用户偏好设置 |
| 27 | updateUserPreferences | PUT | /user/preferences | 2018 | 2131 | 更新用户偏好设置 |

### 1.7 管理员用户管理 (8个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 28 | getAdminUserList | GET | /user/admin/users | 200 | 2132, 2133 | 获取用户列表 |
| 29 | createAdmin | POST | /user/admin/users | 2019 | 2134, 2135 | 创建管理员 |
| 30 | updateUser | PUT | /user/admin/users/{userId} | 2020 | 2136, 2137 | 更新用户 |
| 31 | deleteUser | DELETE | /user/admin/users/{userId} | 2021 | 2138, 2139 | 删除用户 |
| 32 | toggleUserStatus | PUT | /user/admin/users/{userId}/status | 2022 | 2140, 2141 | 切换用户状态 |
| 33 | getCertificationList | GET | /user/admin/certifications | 200 | 2142, 2143 | 获取认证列表 |
| 34 | processCertification | PUT | /user/admin/certifications/{id} | 2023 | 2144, 2145 | 审核认证 |
| 35 | uploadCertificationImage | POST | /user/merchant/certification/image | 2024 | 2146, 2147, 2148 | 上传商家认证图片 |

### 1.8 验证码相关 (1个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 36 | sendVerificationCode | POST | /user/verification-code/send | 2025 | 2149, 2150, 2151 | 发送验证码 |


## 二、茶叶模块接口 (tea.js) - 共24个接口

### 2.1 茶叶基础操作 (6个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 1 | getTeas | GET | /tea/list | 3000 | 3100 | 获取茶叶列表 |
| 2 | addTea | POST | /tea/list | 3001 | 3101 | 添加茶叶 |
| 3 | getTeaDetail | GET | /tea/{id} | 200 | 3102 | 获取茶叶详情（返回包含：isFavorited） |
| 4 | updateTea | PUT | /tea/{id} | 3002 | 3103 | 更新茶叶 |
| 5 | deleteTea | DELETE | /tea/{id} | 3003 | 3104 | 删除茶叶 |
| 6 | getRecommendTeas | GET | /tea/recommend | 200 | 3105 | 获取推荐茶叶 |

### 2.2 分类管理 (4个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 7 | getTeaCategories | GET | /tea/categories | 200 | 3106 | 获取分类列表 |
| 8 | createCategory | POST | /tea/categories | 3004 | 3107 | 创建分类 |
| 9 | updateCategory | PUT | /tea/categories/{id} | 3005 | 3108 | 更新分类 |
| 10 | deleteCategory | DELETE | /tea/categories/{id} | 3006 | 3109 | 删除分类 |

### 2.3 评价系统 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 11 | getTeaReviews | GET | /tea/{teaId}/reviews | 200 | 3110 | 获取评价列表（每条评价返回包含：isLiked） |
| 12 | getReviewStats | GET | /tea/{teaId}/reviews/stats | 200 | 3111 | 获取评价统计 |
已删除第十三
| 14 | replyReview | POST | /tea/reviews/{reviewId}/reply | 3008 | 3113 | 回复评价 |

### 2.4 规格管理 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 16 | getTeaSpecifications | GET | /tea/{teaId}/specifications | 200 | 3115 | 获取规格列表 |
| 17 | addSpecification | POST | /tea/{teaId}/specifications | 3010 | 3116 | 添加规格 |
| 18 | updateSpecification | PUT | /tea/specifications/{specId} | 3011 | 3117 | 更新规格 |
| 19 | deleteSpecification | DELETE | /tea/specifications/{specId} | 3012 | 3118 | 删除规格 |
| 20 | setDefaultSpecification | PUT | /tea/specifications/{specId}/default | 3013 | 3119 | 设置默认规格 |

### 2.5 图片管理 (4个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 21 | uploadTeaImages | POST | /tea/{teaId}/images | 3014 | 3120, 3121, 3122 | 上传图片 |
| 22 | deleteTeaImage | DELETE | /tea/images/{imageId} | 3015 | 3123 | 删除图片 |
| 23 | setMainImage | PUT | /tea/images/{imageId}/main | 3016 | 3124 | 设置主图 |
| 24 | updateImageOrder | PUT | /tea/images/order | 3017 | 3125 | 更新图片顺序 |

### 2.6 状态管理 (2个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 25 | toggleTeaStatus | PUT | /tea/{teaId}/status | 3018, 3019 | 3126, 3127 | 上架/下架 |
| 26 | batchToggleTeaStatus | PUT | /tea/batch-status | 3020, 3021 | 3128, 3129 | 批量上架/下架 |


## 三、店铺模块接口 (shop.js) - 共23个接口

### 3.1 店铺基础操作 (6个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 1 | getShops | GET | /shop/list | 200 | 4100 | 获取店铺列表 |
| 2 | createShop | POST | /shop/list | 4000 | 4101 | 创建店铺 |
| 3 | getShopDetail | GET | /shop/{id} | 200 | 4102, 4103 | 获取店铺详情（返回包含：isFollowed） |
| 4 | updateShop | PUT | /shop/{id} | 4001 | 4104 | 更新店铺信息 |
| 5 | getMyShop | GET | /shop/my | 200 | 4105 | 获取我的店铺 |
| 6 | getShopStatistics | GET | /shop/{shopId}/statistics | 200 | 4106 | 获取店铺统计 |

### 3.2 店铺茶叶管理 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 7 | getShopTeas | GET | /shop/{shopId}/teas | 200 | 4107 | 获取店铺茶叶 |
| 8 | addShopTea | POST | /shop/{shopId}/teas | 4002 | 4108 | 添加店铺茶叶 |
| 9 | updateShopTea | PUT | /shop/teas/{teaId} | 4003 | 4109 | 更新店铺茶叶 |
| 10 | deleteShopTea | DELETE | /shop/teas/{teaId} | 4004 | 4110 | 删除店铺茶叶 |
| 11 | toggleShopTeaStatus | PUT | /shop/teas/{teaId}/status | 4005, 4006 | 4111, 4112 | 茶叶上下架 |

### 3.3 Logo上传 (1个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 12 | uploadShopLogo | POST | /shop/{shopId}/logo | 4007 | 4113, 4114, 4115 | 上传Logo |

### 3.4 Banner管理 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 13 | getShopBanners | GET | /shop/{shopId}/banners | 200 | 4116 | 获取Banner列表 |
| 14 | uploadBanner | POST | /shop/{shopId}/banners | 4008 | 4117, 4118, 4119 | 上传Banner |
| 15 | updateBanner | PUT | /shop/banners/{bannerId} | 4009 | 4120 | 更新Banner |
| 16 | deleteBanner | DELETE | /shop/banners/{bannerId} | 4010 | 4121 | 删除Banner |
| 17 | updateBannerOrder | PUT | /shop/banners/order | 4011 | 4122 | 更新Banner排序 |

### 3.5 公告管理 (4个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 18 | getShopAnnouncements | GET | /shop/{shopId}/announcements | 200 | 4123 | 获取公告列表 |
| 19 | createAnnouncement | POST | /shop/{shopId}/announcements | 4012 | 4124 | 创建公告 |
| 20 | updateAnnouncement | PUT | /shop/announcements/{announcementId} | 4013 | 4125 | 更新公告 |
| 21 | deleteAnnouncement | DELETE | /shop/announcements/{announcementId} | 4014 | 4126 | 删除公告 |

### 3.6 店铺评价 (2个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 25 | getShopReviews | GET | /shop/{shopId}/reviews | 200 | 4130 | 获取店铺评价 |
| 26 | submitShopReview | POST | /shop/{shopId}/reviews | 4017 | 4131, 4132 | 提交店铺评价 |


## 四、订单模块接口 (order.js) - 共21个接口

### 4.1 购物车相关 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 1 | getCartItems | GET | /order/cart | 200 | 5100 | 获取购物车 |
| 2 | addToCart | POST | /order/cart/add | 5000 | 5101, 5102, 5103, 5104 | 加入购物车 |
| 3 | updateCartItem | PUT | /order/cart/update | 5001, 5002 | 5105, 5106, 5107 | 更新购物车 |
| 4 | removeFromCart | DELETE | /order/cart/remove | 5003 | 5108 | 移除商品 |
| 5 | clearCart | DELETE | /order/cart/clear | 5004 | 5109 | 清空购物车 |

### 4.2 订单基础操作 (7个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 6 | createOrder | POST | /order/create | 5005 | 5110, 5111, 5112 | 创建订单 |
| 7 | getOrders | GET | /order/list | 200 | 5113 | 获取订单列表 |
| 8 | getOrderDetail | GET | /order/{id} | 200 | 5114, 5115, 5116 | 获取订单详情 |
| 9 | payOrder | POST | /order/pay | 5006, 5007 | 5117, 5118, 5119, 5120 | 支付订单 |
| 10 | cancelOrder | POST | /order/cancel | 5008 | 5121, 5122, 5123 | 取消订单 |
| 11 | confirmOrder | POST | /order/confirm | 5009 | 5124, 5125, 5126 | 确认收货 |
| 12 | reviewOrder | POST | /order/review | 5010 | 5127 | 评价订单 |

### 4.3 退款相关 (3个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 13 | refundOrder | POST | /order/refund | 5011 | 5128, 5129, 5130 | 申请退款 |
| 14 | processRefund | POST | /order/{id}/refund/process | 5012, 5013 | 5131, 5132 | 审批退款 |
| 15 | getRefundDetail | GET | /order/{id}/refund | 200 | 5133, 5134 | 获取退款详情 |

### 4.4 发货与物流 (3个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 16 | shipOrder | POST | /order/{id}/ship | 5014 | 5135, 5136, 5137 | 发货 |
| 17 | batchShipOrders | POST | /order/batch-ship | 5015 | 5138, 5139 | 批量发货 |
| 18 | getOrderLogistics | GET | /order/{id}/logistics | 200 | 5140, 5141 | 获取物流信息 |

### 4.5 统计与导出 (2个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 19 | getOrderStatistics | GET | /order/statistics | 200 | 5142 | 获取订单统计 |
| 20 | exportOrders | GET | /order/export | 200 | 5143 | 导出订单数据 |
| 21 | uploadReviewImage | POST | /order/review/image | 5016 | 5144, 5145, 5146 | 上传订单评价图片 |


## 五、论坛模块接口 (forum.js) - 共31个接口

### 5.1 首页与Banner (7个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 1 | getHomeData | GET | /forum/home | 200 | 6100 | 获取首页数据 |
| 2 | updateHomeData | PUT | /forum/home | 6000 | 6101 | 更新首页数据 |
| 3 | getBanners | GET | /forum/banners | 200 | 6102 | 获取Banner列表 |
| 4 | uploadBanner | POST | /forum/banners | 6001 | 6103, 6104, 6105 | 上传Banner |
| 5 | updateBanner | PUT | /forum/banners/{id} | 6002 | 6106 | 更新Banner |
| 6 | deleteBanner | DELETE | /forum/banners/{id} | 6003 | 6107 | 删除Banner |
| 7 | updateBannerOrder | PUT | /forum/banners/order | 6004 | 6108 | 更新Banner排序 |

### 5.2 文章管理 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 8 | getArticles | GET | /forum/articles | 200 | 6109 | 获取文章列表 |
| 9 | getArticleDetail | GET | /forum/articles/{id} | 200 | 6110 | 获取文章详情（返回包含：isLiked、isFavorited） |
| 10 | createArticle | POST | /forum/articles | 6005 | 6111 | 创建文章 |
| 11 | updateArticle | PUT | /forum/articles/{id} | 6006 | 6112 | 更新文章 |
| 12 | deleteArticle | DELETE | /forum/articles/{id} | 6007 | 6113 | 删除文章 |

### 5.3 版块管理 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 13 | getForumTopics | GET | /forum/topics | 200 | 6114 | 获取版块列表 |
| 14 | getTopicDetail | GET | /forum/topics/{id} | 200 | 6115 | 获取版块详情 |
| 15 | createTopic | POST | /forum/topics | 6008 | 6116 | 创建版块 |
| 16 | updateTopic | PUT | /forum/topics/{id} | 6009 | 6117 | 更新版块 |
| 17 | deleteTopic | DELETE | /forum/topics/{id} | 6010 | 6118 | 删除版块 |

### 5.4 帖子操作 (7个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 18 | getForumPosts | GET | /forum/posts | 200 | 6119 | 获取帖子列表 |
| 19 | createPost | POST | /forum/posts | 6011 | 6120 | 创建帖子 |
| 20 | getPendingPosts | GET | /forum/posts/pending | 200 | 6121 | 获取待审核帖子 |
| 21 | getPostDetail | GET | /forum/posts/{id} | 200 | 6122 | 获取帖子详情（返回包含：isLiked、isFavorited） |
| 22 | updatePost | PUT | /forum/posts/{id} | 6012 | 6123 | 更新帖子 |
| 23 | deletePost | DELETE | /forum/posts/{id} | 6013 | 6124 | 删除帖子 |
| 37 | uploadPostImage | POST | /forum/posts/image | 6028 | 6140, 6141, 6142 | 上传帖子图片 |

### 5.6 回复管理 (3个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 28 | getPostReplies | GET | /forum/posts/{id}/replies | 200 | 6129 | 获取回复列表（每条回复返回包含：isLiked） |
| 29 | createReply | POST | /forum/posts/{id}/replies | 6018 | 6130 | 创建回复 |
| 30 | deleteReply | DELETE | /forum/replies/{id} | 6019 | 6131 | 删除回复 |

### 5.7 内容审核 (4个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 33 | approvePost | POST | /forum/posts/{id}/approve | 6022 | 6134 | 审核通过 |
| 34 | rejectPost | POST | /forum/posts/{id}/reject | 6023 | 6135 | 审核拒绝 |
| 35 | togglePostSticky | PUT | /forum/posts/{id}/sticky | 6024, 6025 | 6136, 6137 | 置顶/取消置顶 |
| 36 | togglePostEssence | PUT | /forum/posts/{id}/essence | 6026, 6027 | 6138, 6139 | 加精/取消加精 |


## 六、消息模块接口 (message.js) - 共22个接口

### 6.1 消息基础操作 (6个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 1 | getMessages | GET | /message/list | 200 | 7100 | 获取消息列表 |
| 2 | getMessageDetail | GET | /message/{id} | 200 | 7101 | 获取消息详情 |
| 3 | sendMessage | POST | /message/send | 7000 | 7102 | 发送消息 |
| 4 | markAsRead | POST | /message/read | 7001 | 7103 | 标记已读 |
| 5 | deleteMessages | POST | /message/delete | 7002 | 7104 | 删除消息 |
| 6 | getUnreadCount | GET | /message/unread-count | 200 | 7105 | 获取未读数量 |

### 6.2 通知管理 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 7 | getNotifications | GET | /message/notifications | 200 | 7106 | 获取通知列表 |
| 8 | getNotificationDetail | GET | /message/notifications/{id} | 200 | 7107 | 获取通知详情 |
| 9 | deleteNotification | DELETE | /message/notifications/{id} | 7003 | 7108 | 删除通知 |
| 10 | batchMarkAsRead | PUT | /message/notifications/batch-read | 7004 | 7109 | 批量标记已读 |
| 11 | batchDeleteNotifications | DELETE | /message/notifications/batch | 7005 | 7110 | 批量删除通知 |

### 6.3 聊天会话 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 12 | getChatSessions | GET | /message/list/sessions | 200 | 7111 | 获取会话列表 |
| 13 | getChatHistory | GET | /message/list/history | 200 | 7112 | 获取聊天记录 |
| 14 | createChatSession | POST | /message/sessions | 7006 | 7113 | 创建会话 |
| 15 | pinChatSession | PUT | /message/sessions/{sessionId}/pin | 7007 | 7114 | 置顶会话 |
| 16 | deleteChatSession | DELETE | /message/sessions/{sessionId} | 7008 | 7115 | 删除会话 |

### 6.4 图片消息 (1个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 17 | sendImageMessage | POST | /message/messages/image | 7009 | 7116, 7117, 7118 | 发送图片消息 |

### 6.5 用户主页 (5个)

| 序号 | 接口函数 | 请求方式 | 路径 | 成功码 | 失败码 | 备注 |
|------|----------|----------|------|--------|--------|------|
| 18 | getUserProfile | GET | /message/user/{userId} | 200 | 7119, 7120 | 获取用户主页（返回包含：isFollowed） |
| 19 | getUserDynamic | GET | /message/user/{userId}/dynamic | 200 | 7121 | 获取用户动态 |
| 20 | getUserStatistics | GET | /message/user/{userId}/statistics | 200 | 7122 | 获取用户统计 |
| 21 | getUserPosts | GET | /message/user/posts | 200 | 7123 | 获取用户帖子 |
| 22 | getUserReviews | GET | /message/user/reviews | 200 | 7124 | 获取用户评价 |

---

## 接口统计汇总

| 模块 | 接口数量 | 状态码范围 |
|------|----------|------------|
| 用户模块 | 36 | 2xxx |
| 茶叶模块 | 24 | 3xxx |
| 店铺模块 | 23 | 4xxx |
| 订单模块 | 21 | 5xxx |
| 论坛模块 | 31 | 6xxx |
| 消息模块 | 22 | 7xxx |
| **总计** | **157** | - |

---

## 使用建议

1. 后端Controller返回时，根据本文档选择对应的状态码
2. 前端根据状态码自动匹配消息显示
3. 新增接口时，按照分段规则分配状态码
4. 定期检查是否有遗漏的状态码需要补充
5. **接口变更时的同步流程**：
   - 新增/删除接口：更新本文档 → 更新 `apiMessages.js` → 更新 `openapi_new.yaml`
   - 修改状态码：更新本文档 → 更新 `apiMessages.js` → 更新 `openapi_new.yaml` 对应接口的响应定义
   - 修改接口路径/参数：更新本文档 → 更新 `openapi_new.yaml`
   - 确保三个文档始终保持一致
