openapi: 3.0.3
info:
  title: 商南茶城 API
  description: 商南茶城电商平台接口文档
  version: 1.0.0

servers:
  - url: /api
    description: API服务

tags:
  - name: 用户模块
  - name: 茶叶模块
  - name: 店铺模块
  - name: 订单模块
  - name: 论坛模块
  - name: 消息模块
  - name: 公共模块

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

paths:
  # ==================== 用户模块 ====================
  /user/login:
    post:
      tags: [用户模块]
      summary: 用户登录
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [username, password]
              properties:
                username:
                  type: string
                password:
                  type: string
      responses:
        '200':
          description: 登录成功
          content:
            application/json:
              example:
                code: 2000
                data:
                  token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJjeTEwMDAwMiIsInJvbGUiOjIsInVzZXJuYW1lIjoidXNlciIsImp0aSI6Im1vY2stdXVpZCIsImlhdCI6MTczNTA4NDgwMCwiZXhwIjoxNzY3MjI1NjAwLCJpc3MiOiJzaGFuZ25hbnRlYSJ9.mock"

  /user/register:
    post:
      tags: [用户模块]
      summary: 用户注册
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [username, password, confirmPassword]
              properties:
                username:
                  type: string
                password:
                  type: string
                confirmPassword:
                  type: string
                email:
                  type: string
                phone:
                  type: string
      responses:
        '200':
          description: 注册成功
          content:
            application/json:
              example:
                code: 2001
                data:
                  id: "cy100002"
                  username: "newuser"
                  nickname: "新用户"
                  avatar: "/images/default-avatar.png"
                  role: 2
                  status: 1

  /user/logout:
    post:
      tags: [用户模块]
      summary: 退出登录
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 退出成功
          content:
            application/json:
              example:
                code: 2002
                data: null

  /user/refresh:
    post:
      tags: [用户模块]
      summary: 刷新令牌
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 刷新成功
          content:
            application/json:
              example:
                code: 200
                data:
                  token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJjeTEwMDAwMiIsInJvbGUiOjIsInVzZXJuYW1lIjoidXNlciIsImp0aSI6Im1vY2stdXVpZCIsImlhdCI6MTczNTA4NDgwMCwiZXhwIjoxNzY3MjI1NjAwLCJpc3MiOiJzaGFuZ25hbnRlYSJ9.mock"

  /user/me:
    get:
      tags: [用户模块]
      summary: 获取当前用户信息
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: "cy100002"
                  username: "user"
                  nickname: "测试用户"
                  avatar: "/images/default-avatar.png"
                  email: "user@example.com"
                  phone: "13800138000"
                  role: 2
                  status: 1

  /user/{userId}:
    get:
      tags: [用户模块]
      summary: 获取指定用户信息
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: "cy100002"
                  username: "user"
                  nickname: "测试用户"
                  avatar: "/images/default-avatar.png"
                  role: 2
                  status: 1

  /user:
    put:
      tags: [用户模块]
      summary: 更新用户信息
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nickname:
                  type: string
                email:
                  type: string
                phone:
                  type: string
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 2010
                data: null

  /user/avatar:
    post:
      tags: [用户模块]
      summary: 上传头像
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        '200':
          description: 上传成功
          content:
            application/json:
              example:
                code: 2012
                data:
                  avatarUrl: "/uploads/avatar/user_cy100002.jpg"

  /user/password:
    put:
      tags: [用户模块]
      summary: 修改密码
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [oldPassword, newPassword, confirmNewPassword]
              properties:
                oldPassword:
                  type: string
                newPassword:
                  type: string
                confirmNewPassword:
                  type: string
      responses:
        '200':
          description: 修改成功
          content:
            application/json:
              example:
                code: 2011
                data: null

  /user/password/reset:
    post:
      tags: [用户模块]
      summary: 密码找回/重置
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                phone:
                  type: string
                email:
                  type: string
                verificationCode:
                  type: string
                newPassword:
                  type: string
      responses:
        '200':
          description: 重置成功
          content:
            application/json:
              example:
                code: 2004
                data: null

  /user/addresses:
    get:
      tags: [用户模块]
      summary: 获取收货地址列表
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - id: 1
                    receiverName: "张三"
                    receiverPhone: "13800138000"
                    province: "陕西省"
                    city: "商洛市"
                    district: "商南县"
                    detailAddress: "茶城路1号"
                    isDefault: 1
    post:
      tags: [用户模块]
      summary: 添加收货地址
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                receiverName:
                  type: string
                receiverPhone:
                  type: string
                province:
                  type: string
                city:
                  type: string
                district:
                  type: string
                detailAddress:
                  type: string
                isDefault:
                  type: integer
                  enum: [0, 1]
      responses:
        '200':
          description: 添加成功
          content:
            application/json:
              example:
                code: 4060
                data: null

  /user/addresses/{id}:
    put:
      tags: [用户模块]
      summary: 更新收货地址
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                receiverName:
                  type: string
                receiverPhone:
                  type: string
                province:
                  type: string
                city:
                  type: string
                district:
                  type: string
                detailAddress:
                  type: string
                isDefault:
                  type: integer
                  enum: [0, 1]
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 1004
                data: null
    delete:
      tags: [用户模块]
      summary: 删除收货地址
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 1003
                data: null

  /user/addresses/{id}/default:
    put:
      tags: [用户模块]
      summary: 设置默认地址
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 设置成功
          content:
            application/json:
              example:
                code: 1004
                data: null

  /user/shop-certification:
    get:
      tags: [用户模块]
      summary: 获取商家认证状态
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: 1
                  status: 0
    post:
      tags: [用户模块]
      summary: 提交商家认证申请
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                shopName:
                  type: string
                businessLicense:
                  type: string
                idCardFront:
                  type: string
                idCardBack:
                  type: string
      responses:
        '200':
          description: 提交成功
          content:
            application/json:
              example:
                code: 1000
                data: null

  /user/follows:
    get:
      tags: [用户模块]
      summary: 获取关注列表
      security:
        - BearerAuth: []
      parameters:
        - name: type
          in: query
          schema:
            type: string
            enum: [user, shop]
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - id: 1
                    targetId: "cy100003"
                    targetType: "user"
                    targetName: "茶友小王"
                    targetAvatar: "/images/avatar1.png"
    post:
      tags: [用户模块]
      summary: 添加关注
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [targetId, targetType]
              properties:
                targetId:
                  type: string
                targetType:
                  type: string
                  enum: [user, shop]
      responses:
        '200':
          description: 关注成功
          content:
            application/json:
              example:
                code: 5000
                data: null

  /user/follows/{id}:
    delete:
      tags: [用户模块]
      summary: 取消关注
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 取消成功
          content:
            application/json:
              example:
                code: 5001
                data: null

  /user/favorites:
    get:
      tags: [用户模块]
      summary: 获取收藏列表
      security:
        - BearerAuth: []
      parameters:
        - name: type
          in: query
          schema:
            type: string
            enum: [tea, post, article]
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - id: 1
                    targetId: "1"
                    targetType: "tea"
                    targetName: "商南绿茶"
                    targetImage: "/images/tea1.jpg"
    post:
      tags: [用户模块]
      summary: 添加收藏
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [targetId, targetType]
              properties:
                targetId:
                  type: string
                targetType:
                  type: string
                  enum: [tea, post, article]
      responses:
        '200':
          description: 收藏成功
          content:
            application/json:
              example:
                code: 3010
                data: null

  /user/favorites/{id}:
    delete:
      tags: [用户模块]
      summary: 取消收藏
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 取消成功
          content:
            application/json:
              example:
                code: 3011
                data: null

  /user/likes:
    post:
      tags: [用户模块]
      summary: 点赞
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [targetId, targetType]
              properties:
                targetId:
                  type: string
                targetType:
                  type: string
      responses:
        '200':
          description: 点赞成功
          content:
            application/json:
              example:
                code: 6010
                data: null

  /user/likes/{id}:
    delete:
      tags: [用户模块]
      summary: 取消点赞
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 取消成功
          content:
            application/json:
              example:
                code: 6011
                data: null

  /user/preferences:
    get:
      tags: [用户模块]
      summary: 获取用户偏好设置
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  theme: "light"
                  displayMode: "grid"
    put:
      tags: [用户模块]
      summary: 更新用户偏好设置
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                theme:
                  type: string
                displayMode:
                  type: string
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 2013
                data: null

  /user/admin/users:
    get:
      tags: [用户模块]
      summary: 获取用户列表（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: keyword
          in: query
          schema:
            type: string
        - name: role
          in: query
          schema:
            type: integer
            enum: [1, 2, 3]
        - name: status
          in: query
          schema:
            type: integer
            enum: [0, 1]
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: pageSize
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: "cy100001"
                      username: "admin"
                      nickname: "管理员"
                      role: 1
                      status: 1
                    - id: "cy100002"
                      username: "user"
                      nickname: "普通用户"
                      role: 2
                      status: 1
                  total: 100
                  page: 1
                  pageSize: 10
    post:
      tags: [用户模块]
      summary: 创建管理员账号（管理员）
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [username, password]
              properties:
                username:
                  type: string
                password:
                  type: string
                nickname:
                  type: string
                email:
                  type: string
                phone:
                  type: string
                avatar:
                  type: string
      responses:
        '200':
          description: 创建成功
          content:
            application/json:
              example:
                code: 2023
                data: null

  /user/admin/users/{userId}:
    put:
      tags: [用户模块]
      summary: 更新用户信息（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                nickname:
                  type: string
                email:
                  type: string
                phone:
                  type: string
                status:
                  type: integer
                  enum: [0, 1]
                avatar:
                  type: string
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 2022
                data: null
    delete:
      tags: [用户模块]
      summary: 删除用户（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 2020
                data: null

  /user/admin/users/{userId}/role:
    put:
      tags: [用户模块]
      summary: 更新用户角色（管理员，已废弃）
      deprecated: true
      security:
        - BearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [role]
              properties:
                role:
                  type: integer
                  enum: [1, 2, 3]
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 2022
                data: null

  /user/admin/users/{userId}/status:
    put:
      tags: [用户模块]
      summary: 启用/禁用用户（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [status]
              properties:
                status:
                  type: integer
                  enum: [0, 1]
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 2021
                data: null

  /user/admin/certifications:
    get:
      tags: [用户模块]
      summary: 获取商家认证申请列表（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: status
          in: query
          schema:
            type: integer
            enum: [0, 1, 2]
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: pageSize
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      userId: "cy100002"
                      shopName: "茶香阁"
                      status: 0
                      createTime: "2025-01-01T12:00:00Z"
                  total: 10

  /user/admin/certifications/{id}:
    put:
      tags: [用户模块]
      summary: 审核认证申请（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [status]
              properties:
                status:
                  type: integer
                  enum: [1, 2]
      responses:
        '200':
          description: 审核成功
          content:
            application/json:
              example:
                code: 1000
                data: null


  # ==================== 茶叶模块 ====================
  /tea/list:
    get:
      tags: [茶叶模块]
      summary: 获取茶叶列表
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: pageSize
          in: query
          schema:
            type: integer
            default: 10
        - name: categoryId
          in: query
          schema:
            type: integer
        - name: keyword
          in: query
          schema:
            type: string
        - name: shopId
          in: query
          schema:
            type: string
        - name: sortBy
          in: query
          schema:
            type: string
            enum: [price, sales, rating]
        - name: sortOrder
          in: query
          schema:
            type: string
            enum: [asc, desc]
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 3000
                data:
                  list:
                    - id: "1"
                      name: "商南绿茶"
                      categoryId: 1
                      shopId: "1"
                      price: 99.00
                      originalPrice: 128.00
                      stock: 100
                      sales: 50
                      description: "优质商南高山绿茶"
                      images: ["/images/tea1.jpg"]
                      status: 1
                  total: 100
                  page: 1
                  pageSize: 10
    post:
      tags: [茶叶模块]
      summary: 添加茶叶（商家/管理员）
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                categoryId:
                  type: integer
                shopId:
                  type: string
                price:
                  type: number
                originalPrice:
                  type: number
                stock:
                  type: integer
                description:
                  type: string
                images:
                  type: array
                  items:
                    type: string
                status:
                  type: integer
                  enum: [0, 1]
      responses:
        '200':
          description: 添加成功
          content:
            application/json:
              example:
                code: 3026
                data: null

  /tea/{id}:
    get:
      tags: [茶叶模块]
      summary: 获取茶叶详情
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 3001
                data:
                  id: "1"
                  name: "商南绿茶"
                  categoryId: 1
                  shopId: "1"
                  price: 99.00
                  originalPrice: 128.00
                  stock: 100
                  sales: 50
                  description: "优质商南高山绿茶"
                  images: ["/images/tea1.jpg"]
                  status: 1
    put:
      tags: [茶叶模块]
      summary: 更新茶叶信息（商家/管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                categoryId:
                  type: integer
                price:
                  type: number
                originalPrice:
                  type: number
                stock:
                  type: integer
                description:
                  type: string
                images:
                  type: array
                  items:
                    type: string
                status:
                  type: integer
                  enum: [0, 1]
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 3025
                data: null
    delete:
      tags: [茶叶模块]
      summary: 删除茶叶（商家/管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 3024
                data: null

  /tea/categories:
    get:
      tags: [茶叶模块]
      summary: 获取茶叶分类列表
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - id: 1
                    name: "绿茶"
                    parentId: 0
                    sortOrder: 1
                    icon: "/icons/green-tea.png"
                  - id: 2
                    name: "红茶"
                    parentId: 0
                    sortOrder: 2
                    icon: "/icons/black-tea.png"
    post:
      tags: [茶叶模块]
      summary: 创建茶叶分类（管理员）
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                parentId:
                  type: integer
                sortOrder:
                  type: integer
                icon:
                  type: string
      responses:
        '200':
          description: 创建成功
          content:
            application/json:
              example:
                code: 3030
                data: null

  /tea/categories/{id}:
    put:
      tags: [茶叶模块]
      summary: 更新茶叶分类（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                parentId:
                  type: integer
                sortOrder:
                  type: integer
                icon:
                  type: string
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 3031
                data: null
    delete:
      tags: [茶叶模块]
      summary: 删除茶叶分类（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 3032
                data: null

  /tea/{teaId}/reviews:
    get:
      tags: [茶叶模块]
      summary: 获取茶叶评价列表
      parameters:
        - name: teaId
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
        - name: pageSize
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      userId: "cy100002"
                      username: "茶友"
                      avatar: "/images/avatar.png"
                      rating: 5
                      content: "茶叶很好喝"
                      images: []
                      createTime: "2025-01-01T12:00:00Z"
                  total: 10

  /tea/{teaId}/reviews/stats:
    get:
      tags: [茶叶模块]
      summary: 获取茶叶评价统计
      parameters:
        - name: teaId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  averageRating: 4.5
                  totalCount: 100
                  ratingDistribution:
                    "5": 60
                    "4": 25
                    "3": 10
                    "2": 3
                    "1": 2

  /tea/reviews:
    post:
      tags: [茶叶模块]
      summary: 提交茶叶评价
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [teaId, rating, content]
              properties:
                teaId:
                  type: string
                rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                content:
                  type: string
                images:
                  type: array
                  items:
                    type: string
                orderId:
                  type: string
      responses:
        '200':
          description: 提交成功
          content:
            application/json:
              example:
                code: 4050
                data: null

  /tea/reviews/{reviewId}/reply:
    post:
      tags: [茶叶模块]
      summary: 商家回复评价
      security:
        - BearerAuth: []
      parameters:
        - name: reviewId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [reply]
              properties:
                reply:
                  type: string
      responses:
        '200':
          description: 回复成功
          content:
            application/json:
              example:
                code: 3013
                data: null

  /tea/reviews/{reviewId}/like:
    post:
      tags: [茶叶模块]
      summary: 点赞评价
      security:
        - BearerAuth: []
      parameters:
        - name: reviewId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 点赞成功
          content:
            application/json:
              example:
                code: 6010
                data: null

  /tea/{teaId}/specifications:
    get:
      tags: [茶叶模块]
      summary: 获取茶叶规格列表
      parameters:
        - name: teaId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - id: "1"
                    teaId: "1"
                    specName: "250g装"
                    price: 99.00
                    stock: 100
                    isDefault: 1
    post:
      tags: [茶叶模块]
      summary: 添加茶叶规格
      security:
        - BearerAuth: []
      parameters:
        - name: teaId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                specName:
                  type: string
                price:
                  type: number
                stock:
                  type: integer
                isDefault:
                  type: integer
                  enum: [0, 1]
      responses:
        '200':
          description: 添加成功
          content:
            application/json:
              example:
                code: 1000
                data: null

  /tea/specifications/{specId}:
    put:
      tags: [茶叶模块]
      summary: 更新茶叶规格
      security:
        - BearerAuth: []
      parameters:
        - name: specId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                specName:
                  type: string
                price:
                  type: number
                stock:
                  type: integer
                isDefault:
                  type: integer
                  enum: [0, 1]
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 1004
                data: null
    delete:
      tags: [茶叶模块]
      summary: 删除茶叶规格
      security:
        - BearerAuth: []
      parameters:
        - name: specId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 1003
                data: null

  /tea/specifications/{specId}/default:
    put:
      tags: [茶叶模块]
      summary: 设置默认规格
      security:
        - BearerAuth: []
      parameters:
        - name: specId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 设置成功
          content:
            application/json:
              example:
                code: 1004
                data: null

  /tea/{teaId}/images:
    post:
      tags: [茶叶模块]
      summary: 上传茶叶图片
      security:
        - BearerAuth: []
      parameters:
        - name: teaId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                files:
                  type: array
                  items:
                    type: string
                    format: binary
      responses:
        '200':
          description: 上传成功
          content:
            application/json:
              example:
                code: 1001
                data:
                  - id: "img1"
                    url: "/uploads/tea/tea1_1.jpg"

  /tea/images/{imageId}:
    delete:
      tags: [茶叶模块]
      summary: 删除茶叶图片
      security:
        - BearerAuth: []
      parameters:
        - name: imageId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 1003
                data: null

  /tea/images/{imageId}/main:
    put:
      tags: [茶叶模块]
      summary: 设置主图
      security:
        - BearerAuth: []
      parameters:
        - name: imageId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 设置成功
          content:
            application/json:
              example:
                code: 1004
                data: null

  /tea/images/order:
    put:
      tags: [茶叶模块]
      summary: 更新图片顺序
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                teaId:
                  type: string
                orders:
                  type: array
                  items:
                    type: object
                    properties:
                      imageId:
                        type: string
                      order:
                        type: integer
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 1004
                data: null

  /tea/{teaId}/status:
    put:
      tags: [茶叶模块]
      summary: 更新茶叶状态（上架/下架）
      security:
        - BearerAuth: []
      parameters:
        - name: teaId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: integer
                  enum: [0, 1]
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 3020
                data: null

  /tea/batch-status:
    put:
      tags: [茶叶模块]
      summary: 批量更新茶叶状态
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                teaIds:
                  type: array
                  items:
                    type: string
                status:
                  type: integer
                  enum: [0, 1]
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 3022
                data: null

  /tea/recommend:
    get:
      tags: [茶叶模块]
      summary: 获取推荐茶叶
      parameters:
        - name: type
          in: query
          schema:
            type: string
            enum: [random, similar, popular]
        - name: teaId
          in: query
          schema:
            type: string
        - name: count
          in: query
          schema:
            type: integer
            default: 6
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - id: "1"
                    name: "商南绿茶"
                    price: 99.00
                    images: ["/images/tea1.jpg"]


  # ==================== 店铺模块 ====================
  /shop/list:
    get:
      tags: [店铺模块]
      summary: 获取店铺列表
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: size
          in: query
          schema:
            type: integer
            default: 10
        - name: keyword
          in: query
          schema:
            type: string
        - name: rating
          in: query
          schema:
            type: number
        - name: sortBy
          in: query
          schema:
            type: string
            enum: [rating, salesCount, followCount]
        - name: sortOrder
          in: query
          schema:
            type: string
            enum: [asc, desc]
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: "1"
                      name: "商南茶庄"
                      logo: "/images/shop-logo.png"
                      description: "专营商南高山绿茶"
                      rating: 4.8
                      salesCount: 1000
                      followCount: 500
                      ownerId: "cy100003"
                  total: 50
                  page: 1
                  pageSize: 10
    post:
      tags: [店铺模块]
      summary: 创建店铺
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                logo:
                  type: string
                description:
                  type: string
      responses:
        '200':
          description: 创建成功
          content:
            application/json:
              example:
                code: 1000
                data: null

  /shop/{id}:
    get:
      tags: [店铺模块]
      summary: 获取店铺详情
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: "1"
                  name: "商南茶庄"
                  logo: "/images/shop-logo.png"
                  description: "专营商南高山绿茶"
                  rating: 4.8
                  salesCount: 1000
                  followCount: 500
                  ownerId: "cy100003"
    put:
      tags: [店铺模块]
      summary: 更新店铺信息
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                logo:
                  type: string
                description:
                  type: string
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 1004
                data: null

  /shop/my:
    get:
      tags: [店铺模块]
      summary: 获取我的店铺信息
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: "1"
                  name: "商南茶庄"
                  logo: "/images/shop-logo.png"
                  description: "专营商南高山绿茶"
                  rating: 4.8
                  salesCount: 1000
                  followCount: 500

  /shop/{shopId}/teas:
    get:
      tags: [店铺模块]
      summary: 获取店铺茶叶列表
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
        - name: size
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: "1"
                      name: "商南绿茶"
                      price: 99.00
                      status: 1
                  total: 20
    post:
      tags: [店铺模块]
      summary: 添加茶叶到店铺
      security:
        - BearerAuth: []
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                categoryId:
                  type: integer
                price:
                  type: number
                stock:
                  type: integer
                description:
                  type: string
      responses:
        '200':
          description: 添加成功
          content:
            application/json:
              example:
                code: 3026
                data: null

  /shop/teas/{teaId}:
    put:
      tags: [店铺模块]
      summary: 更新店铺茶叶
      security:
        - BearerAuth: []
      parameters:
        - name: teaId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                price:
                  type: number
                stock:
                  type: integer
                description:
                  type: string
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 3025
                data: null
    delete:
      tags: [店铺模块]
      summary: 删除店铺茶叶
      security:
        - BearerAuth: []
      parameters:
        - name: teaId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 3024
                data: null

  /shop/teas/{teaId}/status:
    put:
      tags: [店铺模块]
      summary: 茶叶上下架
      security:
        - BearerAuth: []
      parameters:
        - name: teaId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: integer
                  enum: [0, 1]
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 3020
                data: null

  /shop/{shopId}/statistics:
    get:
      tags: [店铺模块]
      summary: 获取店铺统计数据
      security:
        - BearerAuth: []
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
        - name: startDate
          in: query
          schema:
            type: string
            format: date
        - name: endDate
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  totalSales: 50000.00
                  orderCount: 200
                  productCount: 30
                  followCount: 500

  /shop/{shopId}/logo:
    post:
      tags: [店铺模块]
      summary: 上传店铺Logo
      security:
        - BearerAuth: []
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        '200':
          description: 上传成功
          content:
            application/json:
              example:
                code: 5030
                data:
                  url: "/uploads/shop/logo_1.jpg"

  /shop/{shopId}/banners:
    get:
      tags: [店铺模块]
      summary: 获取店铺Banner列表
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - id: "1"
                    imageUrl: "/images/banner1.jpg"
                    title: "新品上市"
                    linkUrl: "/tea/1"
                    sortOrder: 1
    post:
      tags: [店铺模块]
      summary: 上传店铺Banner
      security:
        - BearerAuth: []
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: binary
                title:
                  type: string
                linkUrl:
                  type: string
      responses:
        '200':
          description: 上传成功
          content:
            application/json:
              example:
                code: 5010
                data: null

  /shop/banners/{bannerId}:
    put:
      tags: [店铺模块]
      summary: 更新店铺Banner
      security:
        - BearerAuth: []
      parameters:
        - name: bannerId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                linkUrl:
                  type: string
                sortOrder:
                  type: integer
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 5011
                data: null
    delete:
      tags: [店铺模块]
      summary: 删除店铺Banner
      security:
        - BearerAuth: []
      parameters:
        - name: bannerId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 5012
                data: null

  /shop/banners/order:
    put:
      tags: [店铺模块]
      summary: 更新Banner顺序
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                orders:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                      order:
                        type: integer
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 5013
                data: null

  /shop/{shopId}/announcements:
    get:
      tags: [店铺模块]
      summary: 获取店铺公告列表
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - id: "1"
                    title: "春茶上市"
                    content: "2025年春茶已上市"
                    isTop: true
                    createTime: "2025-01-01T12:00:00Z"
    post:
      tags: [店铺模块]
      summary: 创建店铺公告
      security:
        - BearerAuth: []
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                content:
                  type: string
                isTop:
                  type: boolean
      responses:
        '200':
          description: 创建成功
          content:
            application/json:
              example:
                code: 5020
                data: null

  /shop/announcements/{announcementId}:
    put:
      tags: [店铺模块]
      summary: 更新店铺公告
      security:
        - BearerAuth: []
      parameters:
        - name: announcementId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                content:
                  type: string
                isTop:
                  type: boolean
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 5021
                data: null
    delete:
      tags: [店铺模块]
      summary: 删除店铺公告
      security:
        - BearerAuth: []
      parameters:
        - name: announcementId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 5022
                data: null

  /shop/{shopId}/follow:
    post:
      tags: [店铺模块]
      summary: 关注店铺
      security:
        - BearerAuth: []
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 关注成功
          content:
            application/json:
              example:
                code: 5000
                data: null
    delete:
      tags: [店铺模块]
      summary: 取消关注店铺
      security:
        - BearerAuth: []
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 取消成功
          content:
            application/json:
              example:
                code: 5001
                data: null

  /shop/{shopId}/follow-status:
    get:
      tags: [店铺模块]
      summary: 获取店铺关注状态
      security:
        - BearerAuth: []
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  isFollowed: true

  /shop/{shopId}/reviews:
    get:
      tags: [店铺模块]
      summary: 获取店铺评价列表
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
        - name: size
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      userId: "cy100002"
                      username: "茶友"
                      rating: 5
                      content: "服务很好"
                  total: 50
    post:
      tags: [店铺模块]
      summary: 提交店铺评价
      security:
        - BearerAuth: []
      parameters:
        - name: shopId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                content:
                  type: string
                images:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: 提交成功
          content:
            application/json:
              example:
                code: 5002
                data: null


  # ==================== 订单模块 ====================
  /order/cart:
    get:
      tags: [订单模块]
      summary: 获取购物车列表
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - id: 1
                    teaId: "1"
                    teaName: "商南绿茶"
                    teaImage: "/images/tea1.jpg"
                    specificationId: "1"
                    specName: "250g装"
                    price: 99.00
                    quantity: 2

  /order/cart/add:
    post:
      tags: [订单模块]
      summary: 添加商品到购物车
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [teaId, quantity]
              properties:
                teaId:
                  type: string
                quantity:
                  type: integer
                specificationId:
                  type: string
      responses:
        '200':
          description: 添加成功
          content:
            application/json:
              example:
                code: 4010
                data: null

  /order/cart/update:
    put:
      tags: [订单模块]
      summary: 更新购物车商品
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [id]
              properties:
                id:
                  type: integer
                quantity:
                  type: integer
                specificationId:
                  type: string
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 4011
                data: null

  /order/cart/remove:
    delete:
      tags: [订单模块]
      summary: 移除购物车商品
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: query
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 移除成功
          content:
            application/json:
              example:
                code: 4013
                data: null

  /order/cart/clear:
    delete:
      tags: [订单模块]
      summary: 清空购物车
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 清空成功
          content:
            application/json:
              example:
                code: 4015
                data: null

  /order/create:
    post:
      tags: [订单模块]
      summary: 创建订单
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [items, addressId]
              properties:
                items:
                  type: array
                  items:
                    type: object
                    properties:
                      teaId:
                        type: string
                      specificationId:
                        type: string
                      quantity:
                        type: integer
                addressId:
                  type: integer
                remark:
                  type: string
      responses:
        '200':
          description: 创建成功
          content:
            application/json:
              example:
                code: 4000
                data:
                  id: "1"
                  orderNo: "202501010001"
                  totalAmount: 198.00
                  status: 0

  /order/list:
    get:
      tags: [订单模块]
      summary: 获取订单列表
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: pageSize
          in: query
          schema:
            type: integer
        - name: status
          in: query
          schema:
            type: integer
            enum: [0, 1, 2, 3, 4, 5]
        - name: shopId
          in: query
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: "1"
                      orderNo: "202501010001"
                      userId: "cy100002"
                      shopId: "1"
                      totalAmount: 198.00
                      status: 1
                      items:
                        - teaId: "1"
                          teaName: "商南绿茶"
                          quantity: 2
                          price: 99.00
                  total: 50
                  page: 1
                  pageSize: 10

  /order/{id}:
    get:
      tags: [订单模块]
      summary: 获取订单详情
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: "1"
                  orderNo: "202501010001"
                  userId: "cy100002"
                  shopId: "1"
                  totalAmount: 198.00
                  status: 1
                  items:
                    - teaId: "1"
                      teaName: "商南绿茶"
                      quantity: 2
                      price: 99.00

  /order/pay:
    post:
      tags: [订单模块]
      summary: 支付订单
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [orderId, paymentMethod]
              properties:
                orderId:
                  type: string
                paymentMethod:
                  type: string
                  enum: [alipay, wechat, balance]
      responses:
        '200':
          description: 支付成功
          content:
            application/json:
              example:
                code: 4020
                data: null

  /order/cancel:
    post:
      tags: [订单模块]
      summary: 取消订单
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [id]
              properties:
                id:
                  type: string
      responses:
        '200':
          description: 取消成功
          content:
            application/json:
              example:
                code: 4002
                data: null

  /order/confirm:
    post:
      tags: [订单模块]
      summary: 确认收货
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [id]
              properties:
                id:
                  type: string
      responses:
        '200':
          description: 确认成功
          content:
            application/json:
              example:
                code: 4003
                data: null

  /order/review:
    post:
      tags: [订单模块]
      summary: 评价订单
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [orderId, rating, content]
              properties:
                orderId:
                  type: string
                rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                content:
                  type: string
                images:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: 评价成功
          content:
            application/json:
              example:
                code: 4050
                data: null

  /order/{id}/ship:
    post:
      tags: [订单模块]
      summary: 发货
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
        - name: logisticsCompany
          in: query
          required: true
          schema:
            type: string
        - name: logisticsNumber
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 发货成功
          content:
            application/json:
              example:
                code: 4004
                data: null

  /order/batch-ship:
    post:
      tags: [订单模块]
      summary: 批量发货
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [orderIds, logisticsCompany, logisticsNumber]
              properties:
                orderIds:
                  type: array
                  items:
                    type: string
                logisticsCompany:
                  type: string
                logisticsNumber:
                  type: string
      responses:
        '200':
          description: 批量发货成功
          content:
            application/json:
              example:
                code: 4006
                data: null

  /order/{id}/logistics:
    get:
      tags: [订单模块]
      summary: 获取订单物流信息
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  logisticsCompany: "顺丰速运"
                  logisticsNumber: "SF1234567890"
                  traces:
                    - time: "2025-01-01T12:00:00Z"
                      status: "已发货"
                    - time: "2025-01-02T10:00:00Z"
                      status: "运输中"

  /order/refund:
    post:
      tags: [订单模块]
      summary: 申请退款（兼容旧接口）
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [orderId, reason]
              properties:
                orderId:
                  type: string
                reason:
                  type: string
      responses:
        '200':
          description: 申请成功
          content:
            application/json:
              example:
                code: 4030
                data: null

  /order/{id}/refund:
    get:
      tags: [订单模块]
      summary: 获取退款详情
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: 1
                  orderId: "1"
                  reason: "商品质量问题"
                  status: 0
                  createTime: "2025-01-01T12:00:00Z"

  /order/{id}/refund/process:
    post:
      tags: [订单模块]
      summary: 审批退款
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [approve]
              properties:
                approve:
                  type: boolean
                reason:
                  type: string
      responses:
        '200':
          description: 审批成功
          content:
            application/json:
              example:
                code: 4031
                data: null

  /order/statistics:
    get:
      tags: [订单模块]
      summary: 获取订单统计数据
      security:
        - BearerAuth: []
      parameters:
        - name: startDate
          in: query
          schema:
            type: string
            format: date
        - name: endDate
          in: query
          schema:
            type: string
            format: date
        - name: shopId
          in: query
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  totalOrders: 500
                  totalAmount: 50000.00
                  statusDistribution:
                    "0": 10
                    "1": 20
                    "2": 30
                    "3": 400
                    "4": 30
                    "5": 10
                  trend:
                    - date: "2025-01-01"
                      orders: 10
                      amount: 1000.00

  /order/export:
    get:
      tags: [订单模块]
      summary: 导出订单数据
      security:
        - BearerAuth: []
      parameters:
        - name: format
          in: query
          schema:
            type: string
            enum: [excel, csv]
        - name: startDate
          in: query
          schema:
            type: string
            format: date
        - name: endDate
          in: query
          schema:
            type: string
            format: date
        - name: status
          in: query
          schema:
            type: integer
            enum: [0, 1, 2, 3, 4, 5]
        - name: shopId
          in: query
          schema:
            type: string
      responses:
        '200':
          description: 导出成功
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary


  # ==================== 论坛模块 ====================
  /forum/home:
    get:
      tags: [论坛模块]
      summary: 获取论坛首页数据
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  banners:
                    - id: 1
                      imageUrl: "/images/forum-banner1.jpg"
                      title: "茶文化专题"
                      linkUrl: "/forum/articles/1"
                  hotPosts:
                    - id: 1
                      title: "商南茶文化分享"
                      viewCount: 1000
                  latestArticles:
                    - id: 1
                      title: "茶道入门"
                      summary: "茶道基础知识"
    put:
      tags: [论坛模块]
      summary: 更新论坛首页数据（管理员）
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 6060
                data: null

  /forum/banners:
    get:
      tags: [论坛模块]
      summary: 获取论坛Banner列表
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - id: 1
                    imageUrl: "/images/forum-banner1.jpg"
                    title: "茶文化专题"
                    linkUrl: "/forum/articles/1"
                    sortOrder: 1
    post:
      tags: [论坛模块]
      summary: 上传论坛Banner（管理员）
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: binary
                title:
                  type: string
                linkUrl:
                  type: string
      responses:
        '200':
          description: 上传成功
          content:
            application/json:
              example:
                code: 5010
                data: null

  /forum/banners/{id}:
    put:
      tags: [论坛模块]
      summary: 更新论坛Banner（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                linkUrl:
                  type: string
                sortOrder:
                  type: integer
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 5011
                data: null
    delete:
      tags: [论坛模块]
      summary: 删除论坛Banner（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 5012
                data: null

  /forum/banners/order:
    put:
      tags: [论坛模块]
      summary: 更新Banner顺序（管理员）
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                bannerIds:
                  type: array
                  items:
                    type: integer
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 5013
                data: null

  /forum/articles:
    get:
      tags: [论坛模块]
      summary: 获取文章列表
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: pageSize
          in: query
          schema:
            type: integer
        - name: categoryId
          in: query
          schema:
            type: integer
        - name: keyword
          in: query
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      title: "茶道入门"
                      summary: "茶道基础知识"
                      coverImage: "/images/article1.jpg"
                      categoryId: 1
                      viewCount: 500
                      createTime: "2025-01-01T12:00:00Z"
                  total: 50
    post:
      tags: [论坛模块]
      summary: 创建文章（管理员）
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [title, content]
              properties:
                title:
                  type: string
                content:
                  type: string
                summary:
                  type: string
                coverImage:
                  type: string
                categoryId:
                  type: integer
      responses:
        '200':
          description: 创建成功
          content:
            application/json:
              example:
                code: 6050
                data: null

  /forum/articles/{id}:
    get:
      tags: [论坛模块]
      summary: 获取文章详情
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: 1
                  title: "茶道入门"
                  content: "茶道是一门艺术..."
                  summary: "茶道基础知识"
                  coverImage: "/images/article1.jpg"
                  categoryId: 1
                  viewCount: 500
                  createTime: "2025-01-01T12:00:00Z"
    put:
      tags: [论坛模块]
      summary: 更新文章（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                content:
                  type: string
                summary:
                  type: string
                coverImage:
                  type: string
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 6051
                data: null
    delete:
      tags: [论坛模块]
      summary: 删除文章（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 6052
                data: null

  /forum/topics:
    get:
      tags: [论坛模块]
      summary: 获取版块列表
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - id: 1
                    name: "茶文化"
                    description: "茶文化交流"
                    icon: "/icons/culture.png"
                    sortOrder: 1
    post:
      tags: [论坛模块]
      summary: 创建版块（管理员）
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [name]
              properties:
                name:
                  type: string
                description:
                  type: string
                icon:
                  type: string
                sortOrder:
                  type: integer
      responses:
        '200':
          description: 创建成功
          content:
            application/json:
              example:
                code: 6040
                data: null

  /forum/topics/{id}:
    get:
      tags: [论坛模块]
      summary: 获取版块详情
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: 1
                  name: "茶文化"
                  description: "茶文化交流"
                  icon: "/icons/culture.png"
                  postCount: 100
    put:
      tags: [论坛模块]
      summary: 更新版块（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                icon:
                  type: string
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 6041
                data: null
    delete:
      tags: [论坛模块]
      summary: 删除版块（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 6042
                data: null

  /forum/posts:
    get:
      tags: [论坛模块]
      summary: 获取帖子列表
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: pageSize
          in: query
          schema:
            type: integer
        - name: topicId
          in: query
          schema:
            type: integer
        - name: keyword
          in: query
          schema:
            type: string
        - name: sortBy
          in: query
          schema:
            type: string
            enum: [latest, hot, essence]
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      title: "商南茶文化分享"
                      content: "这是一篇关于商南茶文化的帖子"
                      authorId: "cy100002"
                      authorName: "茶友"
                      topicId: 1
                      viewCount: 100
                      likeCount: 10
                      replyCount: 5
                      isSticky: false
                      isEssence: false
                      status: 1
                  total: 100
    post:
      tags: [论坛模块]
      summary: 创建帖子
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [title, content, topicId]
              properties:
                title:
                  type: string
                content:
                  type: string
                topicId:
                  type: integer
                images:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: 创建成功
          content:
            application/json:
              example:
                code: 6000
                data: null

  /forum/posts/pending:
    get:
      tags: [论坛模块]
      summary: 获取待审核帖子列表（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: pageSize
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      title: "待审核帖子"
                      authorName: "茶友"
                      status: 0
                      createTime: "2025-01-01T12:00:00Z"
                  total: 10

  /forum/posts/{id}:
    get:
      tags: [论坛模块]
      summary: 获取帖子详情
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: 1
                  title: "商南茶文化分享"
                  content: "这是一篇关于商南茶文化的帖子"
                  authorId: "cy100002"
                  authorName: "茶友"
                  topicId: 1
                  viewCount: 100
                  likeCount: 10
                  replyCount: 5
                  isSticky: false
                  isEssence: false
                  status: 1
    put:
      tags: [论坛模块]
      summary: 更新帖子
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                content:
                  type: string
      responses:
        '200':
          description: 更新成功
          content:
            application/json:
              example:
                code: 6001
                data: null
    delete:
      tags: [论坛模块]
      summary: 删除帖子
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 6002
                data: null

  /forum/posts/{id}/replies:
    get:
      tags: [论坛模块]
      summary: 获取帖子回复列表
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
        - name: page
          in: query
          schema:
            type: integer
        - name: pageSize
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      content: "好文章"
                      authorId: "cy100003"
                      authorName: "茶友2"
                      likeCount: 5
                      createTime: "2025-01-01T13:00:00Z"
                  total: 20
    post:
      tags: [论坛模块]
      summary: 创建回复
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [content]
              properties:
                content:
                  type: string
                parentId:
                  type: integer
      responses:
        '200':
          description: 创建成功
          content:
            application/json:
              example:
                code: 6022
                data: null

  /forum/replies/{id}:
    delete:
      tags: [论坛模块]
      summary: 删除回复
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 6021
                data: null

  /forum/replies/{id}/like:
    post:
      tags: [论坛模块]
      summary: 点赞回复
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 点赞成功
          content:
            application/json:
              example:
                code: 6010
                data: null
    delete:
      tags: [论坛模块]
      summary: 取消点赞回复
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 取消成功
          content:
            application/json:
              example:
                code: 6011
                data: null

  /forum/posts/{id}/like:
    post:
      tags: [论坛模块]
      summary: 点赞帖子
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 点赞成功
          content:
            application/json:
              example:
                code: 6010
                data: null
    delete:
      tags: [论坛模块]
      summary: 取消点赞帖子
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 取消成功
          content:
            application/json:
              example:
                code: 6011
                data: null

  /forum/posts/{id}/favorite:
    post:
      tags: [论坛模块]
      summary: 收藏帖子
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 收藏成功
          content:
            application/json:
              example:
                code: 6012
                data: null
    delete:
      tags: [论坛模块]
      summary: 取消收藏帖子
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 取消成功
          content:
            application/json:
              example:
                code: 6013
                data: null

  /forum/posts/{id}/approve:
    post:
      tags: [论坛模块]
      summary: 审核通过帖子（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 审核成功
          content:
            application/json:
              example:
                code: 6034
                data: null

  /forum/posts/{id}/reject:
    post:
      tags: [论坛模块]
      summary: 审核拒绝帖子（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [reason]
              properties:
                reason:
                  type: string
      responses:
        '200':
          description: 审核成功
          content:
            application/json:
              example:
                code: 6035
                data: null

  /forum/posts/{id}/sticky:
    put:
      tags: [论坛模块]
      summary: 设置帖子置顶（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
        - name: isSticky
          in: query
          required: true
          schema:
            type: boolean
      responses:
        '200':
          description: 设置成功
          content:
            application/json:
              example:
                code: 6030
                data: null

  /forum/posts/{id}/essence:
    put:
      tags: [论坛模块]
      summary: 设置帖子精华（管理员）
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
        - name: isEssence
          in: query
          required: true
          schema:
            type: boolean
      responses:
        '200':
          description: 设置成功
          content:
            application/json:
              example:
                code: 6032
                data: null


  # ==================== 消息模块 ====================
  /message/list:
    get:
      tags: [消息模块]
      summary: 获取消息列表
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: pageSize
          in: query
          schema:
            type: integer
        - name: type
          in: query
          schema:
            type: string
            enum: [system, chat, notification]
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      type: "system"
                      title: "系统通知"
                      content: "欢迎使用商南茶城"
                      isRead: false
                      createTime: "2025-01-01T12:00:00Z"
                  total: 20

  /message/{id}:
    get:
      tags: [消息模块]
      summary: 获取消息详情
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: 1
                  type: "system"
                  title: "系统通知"
                  content: "欢迎使用商南茶城"
                  isRead: true
                  createTime: "2025-01-01T12:00:00Z"

  /message/send:
    post:
      tags: [消息模块]
      summary: 发送消息
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [receiverId, content]
              properties:
                receiverId:
                  type: string
                content:
                  type: string
                type:
                  type: string
                  enum: [text, image]
      responses:
        '200':
          description: 发送成功
          content:
            application/json:
              example:
                code: 7000
                data: null

  /message/read:
    post:
      tags: [消息模块]
      summary: 标记消息为已读
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [messageIds]
              properties:
                messageIds:
                  type: array
                  items:
                    type: integer
      responses:
        '200':
          description: 标记成功
          content:
            application/json:
              example:
                code: 7010
                data: null

  /message/delete:
    post:
      tags: [消息模块]
      summary: 删除消息
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [messageIds]
              properties:
                messageIds:
                  type: array
                  items:
                    type: integer
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 7012
                data: null

  /message/unread-count:
    get:
      tags: [消息模块]
      summary: 获取未读消息数量
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  total: 10
                  system: 3
                  chat: 7

  /message/notifications:
    get:
      tags: [消息模块]
      summary: 获取通知列表
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: pageSize
          in: query
          schema:
            type: integer
        - name: type
          in: query
          schema:
            type: string
            enum: [system, order, forum, follow]
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      type: "system"
                      title: "系统通知"
                      content: "欢迎使用商南茶城"
                      isRead: false
                      createTime: "2025-01-01T12:00:00Z"
                  total: 20

  /message/notifications/{id}:
    get:
      tags: [消息模块]
      summary: 获取通知详情
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  id: 1
                  type: "system"
                  title: "系统通知"
                  content: "欢迎使用商南茶城"
                  isRead: true
                  createTime: "2025-01-01T12:00:00Z"
    delete:
      tags: [消息模块]
      summary: 删除通知
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 7012
                data: null

  /message/notifications/batch-read:
    put:
      tags: [消息模块]
      summary: 批量标记通知为已读
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: integer
      responses:
        '200':
          description: 标记成功
          content:
            application/json:
              example:
                code: 7011
                data: null

  /message/notifications/batch:
    delete:
      tags: [消息模块]
      summary: 批量删除通知
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: integer
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 7013
                data: null

  /message/list/sessions:
    get:
      tags: [消息模块]
      summary: 获取聊天会话列表
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  - sessionId: "session_1"
                    targetUser:
                      id: "cy100003"
                      username: "茶友"
                      avatar: "/images/avatar.png"
                    lastMessage: "你好"
                    lastMessageTime: "2025-01-01T12:00:00Z"
                    unreadCount: 2
                    isPinned: false

  /message/list/history:
    get:
      tags: [消息模块]
      summary: 获取聊天记录
      security:
        - BearerAuth: []
      parameters:
        - name: userId
          in: query
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
        - name: pageSize
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      senderId: "cy100002"
                      receiverId: "cy100003"
                      content: "你好"
                      type: "text"
                      createTime: "2025-01-01T12:00:00Z"
                  total: 50

  /message/sessions:
    post:
      tags: [消息模块]
      summary: 创建聊天会话
      security:
        - BearerAuth: []
      parameters:
        - name: targetId
          in: query
          required: true
          schema:
            type: string
        - name: targetType
          in: query
          schema:
            type: string
            enum: [user, shop]
      responses:
        '200':
          description: 创建成功
          content:
            application/json:
              example:
                code: 1000
                data:
                  sessionId: "session_1"

  /message/sessions/{sessionId}:
    delete:
      tags: [消息模块]
      summary: 删除聊天会话
      security:
        - BearerAuth: []
      parameters:
        - name: sessionId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 删除成功
          content:
            application/json:
              example:
                code: 7001
                data: null

  /message/sessions/{sessionId}/pin:
    put:
      tags: [消息模块]
      summary: 置顶聊天会话
      security:
        - BearerAuth: []
      parameters:
        - name: sessionId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 置顶成功
          content:
            application/json:
              example:
                code: 7014
                data: null

  /message/messages/image:
    post:
      tags: [消息模块]
      summary: 发送图片消息
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required: [sessionId, receiverId, image]
              properties:
                sessionId:
                  type: string
                receiverId:
                  type: string
                image:
                  type: string
                  format: binary
      responses:
        '200':
          description: 发送成功
          content:
            application/json:
              example:
                code: 7003
                data: null

  /message/user/{userId}:
    get:
      tags: [消息模块]
      summary: 获取用户主页信息
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  user:
                    id: "cy100002"
                    username: "茶友"
                    nickname: "茶友昵称"
                    avatar: "/images/avatar.png"
                    role: 2
                  isFollowed: false
                  statistics:
                    postCount: 10
                    followingCount: 20
                    followerCount: 30

  /message/user/{userId}/dynamic:
    get:
      tags: [消息模块]
      summary: 获取用户动态
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
        - name: pageSize
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      type: "post"
                      title: "发布了帖子"
                      content: "商南茶文化分享"
                      createTime: "2025-01-01T12:00:00Z"
                  total: 20

  /message/user/{userId}/statistics:
    get:
      tags: [消息模块]
      summary: 获取用户统计数据
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  postCount: 10
                  followingCount: 20
                  followerCount: 30
                  favoriteCount: 15

  /message/user/posts:
    get:
      tags: [消息模块]
      summary: 获取用户发布的帖子列表
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: size
          in: query
          schema:
            type: integer
        - name: sortBy
          in: query
          schema:
            type: string
            enum: [latest, hot]
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      title: "商南茶文化分享"
                      viewCount: 100
                      likeCount: 10
                      createTime: "2025-01-01T12:00:00Z"
                  total: 10

  /message/user/reviews:
    get:
      tags: [消息模块]
      summary: 获取用户评价记录
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          schema:
            type: integer
        - name: size
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: 获取成功
          content:
            application/json:
              example:
                code: 200
                data:
                  list:
                    - id: 1
                      teaId: "1"
                      teaName: "商南绿茶"
                      rating: 5
                      content: "很好喝"
                      createTime: "2025-01-01T12:00:00Z"
                  total: 5

  # ==================== 公共模块 ====================
  /upload:
    post:
      tags: [公共模块]
      summary: 通用文件上传
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                type:
                  type: string
                  enum: [avatar, tea, shop, banner, article, chat]
      responses:
        '200':
          description: 上传成功
          content:
            application/json:
              example:
                code: 1001
                data:
                  url: "/uploads/common/file_123.jpg"
                  filename: "file_123.jpg"

  /upload/image:
    post:
      tags: [公共模块]
      summary: 图片上传
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                type:
                  type: string
                  enum: [avatar, tea, shop, banner, article, chat]
      responses:
        '200':
          description: 上传成功
          content:
            application/json:
              example:
                code: 1001
                data:
                  url: "/uploads/images/img_123.jpg"
                  thumbnailUrl: "/uploads/images/thumb_img_123.jpg"
